{"version":3,"sources":["../node_modules/@babel/runtime/helpers/typeof.js","util/schedulers.ts","util/iteratees.ts","lib/teact.tsx","config.ts","hooks/useForceUpdate.ts","util/generateIdFor.ts","util/arePropsShallowEqual.ts","lib/teactn.tsx","lib/teact-dom.ts","store/index.ts","api/gramjs/methods/auth.ts","api/gramjs/connectors/peers.ts","api/gramjs/connectors/chats.ts","api/gramjs/connectors/messages.ts","api/gramjs/connectors/users.ts","api/gramjs/methods/chats.ts","api/gramjs/methods/messages.ts","api/gramjs/methods/files.ts","api/gramjs/updaters.ts","api/gramjs/init.ts","api/gramjs/index.ts","modules/gramjs/updaters/system.ts","modules/gramjs/updaters/users.ts","modules/gramjs/updaters/chats.ts","modules/gramjs/updaters/messages.ts","modules/gramjs/updaters/index.ts","modules/gramjs/actions/system.ts","modules/gramjs/actions/chats.ts","modules/gramjs/actions/messages.ts","modules/gramjs/actions/files.ts","modules/gramjs/actions/index.ts","modules/gramjs/index.ts","modules/auth.ts","modules/chats.ts","modules/index.ts","../public/countries.json","util/formatPhoneNumber.ts","components/Spinner.tsx","components/ui/Button.tsx","components/ui/InputText.tsx","util/getPlatform.ts","util/getEventTarget.ts","components/ui/DropdownMenu.tsx","components/ui/DropdownMenuItem.tsx","components/ui/CountryCodeInput.tsx","components/ui/Checkbox.tsx","pages/auth/components/AuthPhoneNumber.tsx","pages/auth/components/AuthCode.tsx","pages/auth/components/AuthRegister.tsx","components/ui/InputPassword.tsx","pages/auth/components/AuthPassword.tsx","pages/auth/Auth.tsx","util/dateFormat.ts","modules/helpers/users.ts","modules/helpers/chats.ts","modules/helpers/messages.ts","modules/helpers/index.ts","modules/selectors/users.ts","modules/selectors/chats.ts","modules/selectors/messages.ts","modules/selectors/index.ts","components/Avatar.tsx","components/MessageOutgoingStatus.tsx","pages/main/components/left/LastMessageMeta.tsx","pages/main/components/left/Badge.tsx","pages/main/components/left/Chat.tsx","components/Loading.tsx","pages/main/components/left/ChatList.tsx","pages/main/components/left/SearchInput.tsx","pages/main/components/left/LeftHeader.tsx","pages/main/components/left/LeftColumn.tsx","pages/main/components/middle/PrivateChatHeader.tsx","pages/main/components/middle/GroupHeader.tsx","../node_modules/emoji-regex/index.js","util/parseEmojiOnlyString.ts","pages/main/components/middle/util/enhanceText.tsx","pages/main/components/middle/util/messages.ts","pages/main/components/middle/MessageMeta.tsx","pages/main/components/middle/ReplyMessage.tsx","pages/main/components/middle/Message.tsx","pages/main/components/middle/MessageList.tsx","pages/main/components/middle/MiddleFooter.tsx","pages/main/components/middle/MiddleColumn.tsx","pages/main/Main.tsx","App.tsx","index.tsx"],"names":["module","exports","id","name","flag","code"],"mappings":"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","file":"src.10653d59.js","sourceRoot":"../src","sourcesContent":["function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","type AnyArgsFunction = (...args: any) => void;\ntype NoArgsFunction = () => void;\ntype Scheduler = typeof requestAnimationFrame | typeof onNextTick | typeof runNow;\n\nexport function debounce<F extends NoArgsFunction>(\n  fn: F,\n  ms: number,\n  shouldRunFirst = true,\n  shouldRunLast = true,\n) {\n  let waitingTimeout: number | null = null;\n\n  return () => {\n    if (waitingTimeout) {\n      clearTimeout(waitingTimeout);\n      waitingTimeout = null;\n    } else if (shouldRunFirst) {\n      fn();\n    }\n\n    // TODO `window.` is a workaround for TS.\n    waitingTimeout = window.setTimeout(() => {\n      if (shouldRunLast) {\n        fn();\n      }\n\n      waitingTimeout = null;\n    }, ms);\n  };\n}\n\nexport function throttle<F extends AnyArgsFunction>(\n  fn: F,\n  ms: number,\n  shouldRunFirst = true,\n) {\n  let interval: number | null = null;\n  let isPending: boolean;\n  let args: Parameters<F>;\n\n  return (..._args: Parameters<F>) => {\n    isPending = true;\n    args = _args;\n\n    if (!interval) {\n      if (shouldRunFirst) {\n        isPending = false;\n        fn(...args);\n      }\n\n      interval = window.setInterval(() => {\n        if (!isPending) {\n          window.clearInterval(interval!);\n          interval = null;\n          return;\n        }\n\n        isPending = false;\n        fn(...args);\n      }, ms);\n    }\n  };\n}\n\nexport function throttleWithRaf<F extends AnyArgsFunction>(fn: F) {\n  return throttleWith(requestAnimationFrame, fn);\n}\n\nexport function throttleWithNextTick<F extends AnyArgsFunction>(fn: F) {\n  return throttleWith(onNextTick, fn);\n}\n\nexport function throttleWithNow<F extends AnyArgsFunction>(fn: F) {\n  return throttleWith(runNow, fn);\n}\n\nexport function throttleWith<F extends AnyArgsFunction>(schedulerFn: Scheduler, fn: F) {\n  let waiting = false;\n  let args: Parameters<F>;\n\n  return (..._args: Parameters<F>) => {\n    args = _args;\n\n    if (!waiting) {\n      waiting = true;\n\n      schedulerFn(() => {\n        waiting = false;\n        fn(...args);\n      });\n    }\n  };\n}\n\nexport function onNextTick(cb: NoArgsFunction) {\n  Promise.resolve().then(cb);\n}\n\nfunction runNow(fn: NoArgsFunction) {\n  fn();\n}\n","type Member = { id: number };\ntype CollectionById<Member> = Record<number, Member>;\n\nexport function buildCollectionById<T extends Member>(collection: T[]) {\n  return collection.reduce((byId: CollectionById<T>, member: T) => {\n    byId[member.id] = member;\n\n    return byId;\n  }, {});\n}\n\ntype OrderDirection = 'asc' | 'desc';\ninterface OrderCallback<T> {\n  (member: T): any;\n}\n\nexport function orderBy<T>(\n  collection: T[],\n  orderKey: (keyof T) | OrderCallback<T> | ((keyof T) | OrderCallback<T>)[],\n  mode: OrderDirection | [OrderDirection, OrderDirection] = 'asc',\n): T[] {\n  return collection.sort((a, b) => {\n    if (Array.isArray(orderKey)) {\n      const [mode1, mode2] = Array.isArray(mode) ? mode : [mode, mode];\n      const [orderKey1, orderKey2] = orderKey;\n\n      let aValue1;\n      let bValue1;\n\n      if (typeof orderKey1 === 'function') {\n        aValue1 = orderKey1(a) || 0;\n        bValue1 = orderKey1(b) || 0;\n      } else if (typeof orderKey1 === 'string') {\n        aValue1 = a[orderKey1] || 0;\n        bValue1 = b[orderKey1] || 0;\n      }\n\n      if (aValue1 !== bValue1) {\n        return mode1 === 'asc' ? aValue1 - bValue1 : bValue1 - aValue1;\n      } else {\n        let aValue2;\n        let bValue2;\n\n        if (typeof orderKey2 === 'function') {\n          aValue2 = orderKey2(a) || 0;\n          bValue2 = orderKey2(b) || 0;\n        } else if (typeof orderKey2 === 'string') {\n          aValue2 = a[orderKey2] || 0;\n          bValue2 = b[orderKey2] || 0;\n        }\n\n        return mode2 === 'asc' ? aValue2 - bValue2 : bValue2 - aValue2;\n      }\n    }\n\n    let aValue;\n    let bValue;\n\n    if (typeof orderKey === 'function') {\n      aValue = orderKey(a) || 0;\n      bValue = orderKey(b) || 0;\n    } else if (typeof orderKey === 'string') {\n      aValue = a[orderKey] || 0;\n      bValue = b[orderKey] || 0;\n    }\n\n    return mode === 'asc' ? aValue - bValue : bValue - aValue;\n  });\n}\n\nexport function toArray<T>(object: Record<string, T>): T[] {\n  return Object.keys(object).map((key) => object[key]);\n}\n\nexport function flatten(array: any[]) {\n  return array.reduce((result, member) => {\n    if (Array.isArray(member)) {\n      return [\n        ...result,\n        ...member,\n      ];\n    } else {\n      result.push(member);\n      return result;\n    }\n  }, []);\n}\n","import { onNextTick, throttleWithRaf } from '../util/schedulers';\nimport { flatten } from '../util/iteratees';\n\nexport type Props = AnyLiteral;\nexport type FC<P extends Props = any> = (props: P) => VirtualElementComponent | null;\n\nexport enum VirtualElementTypesEnum {\n  Tag,\n  Component,\n}\n\nexport const VIRTUAL_ELEMENT_EMPTY = Symbol('VirtualElementEmpty');\nexport type VirtualElementEmpty = typeof VIRTUAL_ELEMENT_EMPTY;\n\nexport type VirtualElementText = string;\n\nexport interface VirtualElementTag {\n  type: VirtualElementTypesEnum.Tag;\n  tag: string;\n  props: Props;\n  children: VirtualElementChildren;\n}\n\nexport interface VirtualElementComponent {\n  type: VirtualElementTypesEnum.Component;\n  componentInstance: ComponentInstance;\n  props: Props;\n  children: VirtualElementChildren;\n}\n\ninterface ComponentInstance {\n  $element: VirtualElementComponent;\n  $prevElement: VirtualElementComponent;\n  Component: FC;\n  name: string;\n  props: Props;\n  children: VirtualElementChildren;\n  state: ComponentInstanceState;\n  effects: ComponentInstanceEffects;\n  refs: ComponentInstanceRefs;\n  render: () => VirtualElementComponent;\n  forceUpdate: Function;\n  onUpdate?: Function;\n  isUnmounted: boolean;\n}\n\nexport type VirtualElement = VirtualElementTag | VirtualElementComponent;\nexport type VirtualElementChild = VirtualElement | VirtualElementEmpty | VirtualElementText;\nexport type VirtualElementChildren = VirtualElementChild[];\n// Fix for default JSX type error.\nexport type JsxChildren = VirtualElementChildren | VirtualElementChild;\n\ninterface ComponentInstanceState {\n  cursor: number;\n  byCursor: {\n    value: any;\n    setter: Function;\n  }[];\n}\n\ninterface ComponentInstanceEffects {\n  cursor: number;\n  byCursor: {\n    effect: () => void;\n    dependencies?: any[];\n  }[];\n}\n\ninterface ComponentInstanceRefs {\n  cursor: number;\n  byCursor: {\n    current: any;\n  }[];\n}\n\n// Used for memoization.\nlet renderingInstance: ComponentInstance;\n\nexport function isEmptyElement($element: VirtualElementChild): $element is VirtualElementEmpty {\n  return $element === VIRTUAL_ELEMENT_EMPTY;\n}\n\nexport function isTextElement($element: VirtualElementChild): $element is VirtualElementText {\n  return typeof $element === 'string';\n}\n\nexport function isTagElement($element: VirtualElementChild): $element is VirtualElementTag {\n  return typeof $element === 'object' && $element.type === VirtualElementTypesEnum.Tag;\n}\n\nexport function isComponentElement($element: VirtualElementChild): $element is VirtualElementComponent {\n  return typeof $element === 'object' && $element.type === VirtualElementTypesEnum.Component;\n}\n\nexport function isRealElement($element: VirtualElementChild): $element is VirtualElement {\n  return isTagElement($element) || isComponentElement($element);\n}\n\nfunction createElement(\n  tag: string | FC,\n  props: Props,\n  ...children: any[]\n): VirtualElement {\n  if (!props) {\n    props = {};\n  }\n\n  if (typeof tag === 'function') {\n    const componentInstance: ComponentInstance = {\n      $element: {} as VirtualElementComponent,\n      $prevElement: {} as VirtualElementComponent,\n      Component: tag,\n      name: tag.name,\n      props,\n      children: flatten(children),\n      isUnmounted: false,\n      state: {\n        cursor: 0,\n        byCursor: [],\n      },\n      effects: {\n        cursor: 0,\n        byCursor: [],\n      },\n      refs: {\n        cursor: 0,\n        byCursor: [],\n      },\n      render() {\n        const rendered = renderComponent(componentInstance);\n\n        if (rendered) {\n          const renderedChildren = getUpdatedChildren(componentInstance.$element, [rendered]);\n          componentInstance.$prevElement = componentInstance.$element;\n          componentInstance.$element = createComponentElement(componentInstance, renderedChildren);\n        }\n\n        return componentInstance.$element;\n      },\n      forceUpdate: throttleWithRaf((newProps?: Props) => {\n        if (newProps) {\n          componentInstance.props = newProps;\n        }\n\n        if (componentInstance.onUpdate && !componentInstance.isUnmounted) {\n          const currentElement = componentInstance.$element;\n          componentInstance.render();\n\n          if (componentInstance.$element !== currentElement) {\n            componentInstance.onUpdate(componentInstance.$prevElement, componentInstance.$element);\n          }\n        }\n      }),\n    };\n\n    componentInstance.$element = createComponentElement(componentInstance);\n\n    return componentInstance.$element;\n  }\n\n  return {\n    type: VirtualElementTypesEnum.Tag,\n    tag,\n    props,\n    children: flatten(children).map((child: any): VirtualElementChild => {\n      if (child === false || child === null || child === undefined) {\n        // Support for `&&` operators.\n        return VIRTUAL_ELEMENT_EMPTY;\n      } else if (isRealElement(child)) {\n        return child;\n      } else {\n        return String(child);\n      }\n    }),\n  };\n}\n\nfunction createComponentElement(\n  componentInstance: ComponentInstance,\n  children: VirtualElementChildren = [],\n): VirtualElementComponent {\n  const { props } = componentInstance;\n\n  return {\n    componentInstance,\n    type: VirtualElementTypesEnum.Component,\n    props,\n    children,\n  };\n}\n\nfunction renderComponent(componentInstance: ComponentInstance) {\n  renderingInstance = componentInstance;\n  renderingInstance.state.cursor = 0;\n\n  const { Component, props, children } = componentInstance;\n\n  return Component({\n    ...props,\n    children,\n  });\n}\n\nfunction getUpdatedChildren($element: VirtualElement, newChildren: VirtualElementChildren) {\n  const currentLength = $element.children.length;\n  const newLength = newChildren.length;\n  const maxLength = Math.max(currentLength, newLength);\n\n  const children: VirtualElementChildren = [];\n  for (let i = 0; i < maxLength; i++) {\n    children.push(getUpdatedChild($element, i, $element.children[i], newChildren[i]) || VIRTUAL_ELEMENT_EMPTY);\n  }\n  return children;\n}\n\nfunction getUpdatedChild(\n  $element: VirtualElement,\n  childIndex: number,\n  currentChild: VirtualElementChild,\n  newChild: VirtualElementChild,\n) {\n  if (isRealElement(currentChild) && isRealElement(newChild) && !hasElementChanged(currentChild, newChild)) {\n    if (isComponentElement(currentChild) && isComponentElement(newChild)) {\n      currentChild.componentInstance.props = newChild.componentInstance.props;\n      // TODO Support new children\n      return currentChild.componentInstance.render();\n    } else {\n      newChild.children = getUpdatedChildren(currentChild, newChild.children);\n    }\n  } else {\n    if (isComponentElement(currentChild)) {\n      unmountComponent(currentChild.componentInstance);\n    }\n\n    if (isComponentElement(newChild)) {\n      return newChild.componentInstance.render();\n    }\n  }\n\n  return newChild;\n}\n\nexport function hasElementChanged($old: VirtualElementChild, $new: VirtualElementChild) {\n  if (typeof $old !== typeof $new) {\n    return true;\n  } else if (!isRealElement($old) || !isRealElement($new)) {\n    return $old !== $new;\n  } else if ($old.type !== $new.type) {\n    return true;\n  } else if (isTagElement($old) && isTagElement($new)) {\n    return ($old.tag !== $new.tag) || ($old.props.key !== $new.props.key);\n  } else if (isComponentElement($old) && isComponentElement($new)) {\n    return (\n      $old.componentInstance.Component !== $new.componentInstance.Component\n    ) || (\n      $old.props.key !== $new.props.key\n    );\n  }\n\n  return false;\n}\n\nfunction unmountComponent(componentInstance: ComponentInstance) {\n  // TODO Remove hooks.\n  componentInstance.isUnmounted = true;\n  componentInstance.$element.children.forEach((child) => {\n    if (isComponentElement(child)) {\n      unmountComponent(child.componentInstance);\n    }\n  });\n}\n\nexport function useState(initial: any) {\n  const { cursor, byCursor } = renderingInstance.state;\n\n  if (byCursor[cursor] === undefined) {\n    byCursor[cursor] = {\n      value: initial,\n      setter: ((componentInstance) => (newValue: any) => {\n        if (byCursor[cursor].value !== newValue) {\n          byCursor[cursor].value = newValue;\n          componentInstance.forceUpdate();\n        }\n      })(renderingInstance),\n    };\n  }\n\n  renderingInstance.state.cursor++;\n\n  return [\n    byCursor[cursor].value,\n    byCursor[cursor].setter,\n  ];\n}\n\n// TODO Support cleanup.\nexport function useEffect(effect: () => void, dependencies?: any[]) {\n  const { cursor, byCursor } = renderingInstance.effects;\n\n  if (byCursor[cursor] !== undefined && dependencies && byCursor[cursor].dependencies) {\n    if (dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies![i])) {\n      onNextTick(effect);\n    }\n  } else {\n    onNextTick(effect);\n  }\n\n  byCursor[cursor] = {\n    effect,\n    dependencies,\n  };\n\n  renderingInstance.state.cursor++;\n}\n\n// TODO Support in `teact-dom`.\nexport function useRef(initial: any) {\n  const { cursor, byCursor } = renderingInstance.refs;\n\n  if (byCursor[cursor] === undefined) {\n    byCursor[cursor] = {\n      current: initial,\n    };\n  }\n\n  renderingInstance.state.cursor++;\n\n  return byCursor[cursor];\n}\n\n// TODO Not working, breaks DOM rendering, debug and fix needed.\n// TODO Support `areEqual` argument.\n// export function memo(Component: FC): FC {\n//   return function memoWrapper(props: Props) {\n//     const propsRef = useRef({});\n//\n//     if (arePropsShallowEqual(propsRef.current, props)) {\n//       return null;\n//     }\n//\n//     propsRef.current = props;\n//\n//     return createElement(Component, props) as VirtualElementComponent;\n//   };\n// }\n\n// We need to keep it here for JSX.\nexport default {\n  createElement,\n};\n","export const DEBUG = true;\nexport const GRAMJS_SESSION_ID_KEY = 'GramJs:sessionId';\nexport const TDLIB_SESSION_ID_KEY = 'TdLib:sessionId';\n","import { useState } from '../lib/teact';\n\nexport default () => {\n  const [, setRandom] = useState(0);\n\n  return () => {\n    setRandom(Math.random());\n  };\n};\n","export default (store: AnyLiteral) => {\n  let id;\n\n  do {\n    id = String(Math.random()).replace('0.', 'id');\n  } while (store.hasOwnProperty(id));\n\n  return id;\n};\n","export default function arePropsShallowEqual(currentProps: AnyLiteral, newProps: AnyLiteral) {\n  const currentKeys = Object.keys(currentProps);\n  const currentKeysLength = currentKeys.length;\n  const newKeysLength = Object.keys(newProps).length;\n\n  if (currentKeysLength !== newKeysLength) {\n    return false;\n  }\n\n  return currentKeys.every((prop) => currentProps[prop] === newProps[prop]);\n}\n","import React, { FC, Props, useState } from './teact';\n\nimport { DEBUG } from '../config';\nimport useForceUpdate from '../hooks/useForceUpdate';\nimport generateIdFor from '../util/generateIdFor';\nimport { throttleWithRaf } from '../util/schedulers';\nimport arePropsShallowEqual from '../util/arePropsShallowEqual';\nimport { orderBy } from '../util/iteratees';\nimport { GlobalState, GlobalActions, ActionTypes } from '../store/types';\n\nexport default React;\n\ntype ActionPayload = AnyLiteral;\n\ntype Reducer = (\n  global: GlobalState,\n  actions: GlobalActions,\n  payload?: ActionPayload,\n) => GlobalState | void;\n\ntype MapStateToProps = ((global: GlobalState, ownProps?: any) => AnyLiteral | null);\ntype MapActionsToProps = ((setGlobal: Function, actions: GlobalActions) => Partial<GlobalActions> | null);\n\nlet global = {} as GlobalState;\n\n// TODO Remove before release.\n(window as any).getGlobal = getGlobal;\n\nconst reducers: Record<string, Reducer[]> = {};\nconst callbacks: Function[] = [updateContainers];\nconst actions = {} as GlobalActions;\nconst containers: Record<string, {\n  mapStateToProps: MapStateToProps;\n  mapReducersToProps: MapActionsToProps;\n  ownProps: Props;\n  mappedProps: Props;\n  forceUpdate: Function;\n  areMappedPropsChanged: boolean;\n  DEBUG_updates: number;\n  DEBUG_componentName: string;\n}> = {};\n\nfunction runCallbacks() {\n  callbacks.forEach((cb) => cb(global));\n}\n\nconst runCallbacksThrottled = throttleWithRaf(runCallbacks);\n\nexport function setGlobal(newGlobal?: GlobalState) {\n  if (typeof newGlobal === 'object' && newGlobal !== global) {\n    if (DEBUG) {\n      // eslint-disable-next-line no-console\n      console.log('[State] UPDATE', { global, newGlobal });\n    }\n\n    global = newGlobal;\n    runCallbacksThrottled();\n  }\n}\n\nexport function getGlobal() {\n  return global;\n}\n\nexport function getDispatch() {\n  return actions;\n}\n\nfunction onDispatch(name: string, payload?: ActionPayload) {\n  if (reducers[name]) {\n    reducers[name].forEach((reducer) => {\n      const newGlobal = reducer(global, actions, payload);\n      if (newGlobal) {\n        setGlobal(newGlobal);\n      }\n    });\n  }\n}\n\nfunction updateContainers() {\n  Object.keys(containers).forEach((id) => {\n    const {\n      mapStateToProps, mapReducersToProps, ownProps, mappedProps, forceUpdate,\n    } = containers[id];\n    const newMappedProps = {\n      ...mapStateToProps(global, ownProps),\n      ...mapReducersToProps(setGlobal, actions),\n    };\n\n    if (Object.keys(newMappedProps).length && !arePropsShallowEqual(mappedProps, newMappedProps)) {\n      containers[id].mappedProps = newMappedProps;\n      containers[id].areMappedPropsChanged = true;\n      containers[id].DEBUG_updates++;\n\n      forceUpdate();\n    }\n  });\n}\n\nexport function addReducer(name: ActionTypes, reducer: Reducer) {\n  if (!reducers[name]) {\n    reducers[name] = [];\n\n    actions[name] = (payload?: ActionPayload) => {\n      if (DEBUG) {\n        // eslint-disable-next-line no-console\n        console.log('[State] ACTION', name, payload);\n      }\n\n      onDispatch(name, payload);\n    };\n  }\n\n  reducers[name].push(reducer);\n}\n\nexport function withGlobal(\n  mapStateToProps: MapStateToProps = () => ({}),\n  mapReducersToProps: MapActionsToProps = () => ({}),\n) {\n  return (Component: FC) => {\n    return function Container(props: Props) {\n      const [id] = useState(generateIdFor(containers));\n      const forceUpdate = useForceUpdate();\n\n      // TODO Support unmount.\n      if (!containers[id]) {\n        containers[id] = {\n          mapStateToProps,\n          mapReducersToProps,\n          ownProps: props,\n          mappedProps: {},\n          areMappedPropsChanged: false,\n          forceUpdate,\n          DEBUG_updates: 0,\n          DEBUG_componentName: Component.name,\n        };\n      }\n\n      if (containers[id].areMappedPropsChanged) {\n        containers[id].areMappedPropsChanged = false;\n      } else {\n        containers[id].ownProps = props;\n        containers[id].mappedProps = {\n          ...mapStateToProps(global, props),\n          ...mapReducersToProps(setGlobal, actions),\n        };\n      }\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      return <Component {...containers[id].mappedProps} {...props} />;\n    };\n  };\n}\n\ndocument.addEventListener('dblclick', () => {\n  // eslint-disable-next-line no-console\n  console.log('GLOBAL CONTAINERS', orderBy(Object.values(containers), 'DEBUG_updates'));\n});\n","import {\n  hasElementChanged,\n  isComponentElement, isEmptyElement, isRealElement, isTextElement, isTagElement, VIRTUAL_ELEMENT_EMPTY,\n  VirtualElement, VirtualElementChild, VirtualElementComponent,\n} from './teact';\n\nlet $currentRoot: VirtualElementComponent;\n\nfunction render($element: VirtualElementComponent, parentEl: HTMLElement | null) {\n  if (!parentEl) {\n    return;\n  }\n\n  renderWithVirtual(parentEl, 0, $currentRoot, $element);\n\n  $currentRoot = $element;\n}\n\nfunction renderWithVirtual(\n  parentEl: HTMLElement,\n  childIndex: number,\n  $current: VirtualElementChild | undefined,\n  $new: VirtualElementChild,\n) {\n  const currentEl = parentEl.childNodes[childIndex];\n\n  if ($current === undefined && $new !== undefined) {\n    parentEl.appendChild(createNode($new, parentEl, childIndex));\n  } else if ($current !== undefined && $new === undefined) {\n    parentEl.removeChild(currentEl);\n  } else if ($current !== undefined && $new !== undefined) {\n    if (hasElementChanged($current, $new)) {\n      parentEl.replaceChild(createNode($new, parentEl, childIndex), currentEl);\n    } else if (isRealElement($current) && isRealElement($new)) {\n      if (isTagElement($current)) {\n        updateAttributes($current, $new, currentEl as HTMLElement);\n      }\n\n      if (isComponentElement($new)) {\n        renderWithVirtual(parentEl, childIndex, getActualPrevElement($current.children[0]), $new.children[0]);\n      } else {\n        renderChildren($current, $new, currentEl as HTMLElement);\n      }\n    }\n  }\n}\n\nfunction initComponentElement($element: VirtualElementComponent, parentEl: HTMLElement, childIndex: number) {\n  $element.componentInstance.onUpdate = ($previous: VirtualElementComponent, $updated: VirtualElementComponent) => {\n    renderWithVirtual(parentEl, childIndex, $previous, $updated);\n  };\n\n  return $element.children.length ? $element : $element.componentInstance.render();\n}\n\n// Child components tree is always changed on each render so we need to get updated reference for `prevElement`.\nfunction getActualPrevElement($element: VirtualElementChild): VirtualElementChild {\n  return isComponentElement($element) ? $element.componentInstance.$prevElement : $element;\n}\n\nfunction createNode($element: VirtualElementChild, parentEl: HTMLElement, childIndex: number): Node {\n  if (isEmptyElement($element)) {\n    return document.createTextNode('');\n  }\n\n  if (isTextElement($element)) {\n    return document.createTextNode($element);\n  }\n\n  if (isComponentElement($element)) {\n    $element = initComponentElement($element, parentEl, childIndex);\n    return createNode($element.children[0] as VirtualElementChild, parentEl, childIndex);\n  }\n\n  const { tag, props, children = [] } = $element;\n  const element = document.createElement(tag);\n\n  if (isTagElement($element)) {\n    Object.keys(props).forEach((key) => {\n      addAttribute(element, key, props[key]);\n    });\n  }\n\n  children.forEach(($child, i) => {\n    renderWithVirtual(element, i, undefined, $child);\n  });\n\n  return element;\n}\n\nfunction renderChildren($current: VirtualElement, $new: VirtualElement, currentEl: HTMLElement) {\n  const currentLength = isRealElement($current) ? $current.children.length : 0;\n  const newLength = isRealElement($new) ? $new.children.length : 0;\n  const maxLength = Math.max(currentLength, newLength);\n\n  for (let i = 0; i < maxLength; i++) {\n    const $currentChild = getActualPrevElement($current.children[i]);\n\n    renderWithVirtual(\n      currentEl,\n      i,\n      $currentChild,\n      isRealElement($new) ? $new.children[i] : VIRTUAL_ELEMENT_EMPTY,\n    );\n  }\n}\n\nfunction updateAttributes($current: VirtualElement, $new: VirtualElement, element: HTMLElement) {\n  const currentKeys = Object.keys($current.props);\n  const newKeys = Object.keys($new.props);\n\n  currentKeys.forEach((key) => {\n    if (!$new.props.hasOwnProperty(key)) {\n      removeAttribute(element, key, $current.props[key]);\n    }\n  });\n\n  newKeys.forEach((key) => {\n    if (hasAttribute(element, key)) {\n      if ($current.props[key] !== $new.props[key]) {\n        removeAttribute(element, key, $current.props[key]);\n      }\n    }\n\n    addAttribute(element, key, $new.props[key]);\n  });\n}\n\nfunction hasAttribute(element: HTMLElement, key: string) {\n  if (key === 'className') {\n    return element.className !== undefined && element.className !== '';\n  } else if (key === 'className') {\n    return (element as HTMLInputElement).value !== undefined && (element as HTMLInputElement).value !== '';\n  } else if (key.startsWith('on')) {\n    // There is no way to check event listener, so there will be some redundant removes, but it is fine.\n    return true;\n  } else {\n    return element.hasAttribute(key);\n  }\n}\n\nfunction addAttribute(element: HTMLElement, key: string, value: any) {\n  if (value === false || value === null || value === undefined) {\n    return;\n  }\n\n  if (key === 'className') {\n    element.className = value;\n  } else if (key === 'value') {\n    (element as HTMLInputElement).value = value;\n  } else if (key.startsWith('on')) {\n    element.addEventListener(key.replace(/^on/, '').toLowerCase(), value);\n\n    if (key === 'onChange') {\n      setupAdditionalOnChangeHandlers(element, value);\n    }\n  } else {\n    element.setAttribute(key, value);\n  }\n}\n\nfunction removeAttribute(element: HTMLElement, key: string, value: any) {\n  if (key === 'className') {\n    element.className = '';\n  } else if (key === 'value') {\n    (element as HTMLInputElement).value = '';\n  } else if (key.startsWith('on')) {\n    element.removeEventListener(key.replace(/^on/, '').toLowerCase(), value);\n\n    if (key === 'onChange') {\n      removeAdditionalOnChangeHandlers(element, value);\n    }\n  } else {\n    element.removeAttribute(key);\n  }\n}\n\nfunction setupAdditionalOnChangeHandlers(element: HTMLElement, handler: EventHandlerNonNull) {\n  element.addEventListener('input', handler);\n  element.addEventListener('paste', handler);\n}\n\nfunction removeAdditionalOnChangeHandlers(element: HTMLElement, handler: EventHandlerNonNull) {\n  element.removeEventListener('paste', handler);\n  element.removeEventListener('input', handler);\n}\n\nexport default { render };\n","import { addReducer, setGlobal } from '../lib/teactn';\n\nimport { GlobalState } from './types';\n\nconst INITIAL_STATE: GlobalState = {\n  isInitialized: false,\n\n  users: {\n    byId: {},\n  },\n\n  chats: {\n    ids: [],\n    byId: {},\n    scrollOffsetById: {},\n  },\n\n  messages: {\n    byChatId: {},\n  },\n\n  files: {\n    byId: {},\n  },\n};\n\naddReducer('init', () => {\n  setGlobal(INITIAL_STATE);\n});\n","import { SendToWorker } from '../types/types';\n\nlet sendToClient: SendToWorker;\n\nexport function init(_sendToClient: SendToWorker) {\n  sendToClient = _sendToClient;\n}\n\nexport function provideAuthPhoneNumber(phoneNumber: string) {\n  return sendToClient({\n    type: 'provideAuthPhoneNumber',\n    phoneNumber,\n  });\n}\n\nexport function provideAuthCode(code: string) {\n  return sendToClient({\n    type: 'provideAuthCode',\n    code,\n  });\n}\n\nexport function provideAuthPassword(password: string) {\n  return sendToClient({\n    type: 'provideAuthPassword',\n    password,\n  });\n}\n","export function isPeerUser(peer: MTP.Peer): peer is MTP.peerUser {\n  return peer.hasOwnProperty('userId');\n}\n\nexport function isPeerChat(peer: MTP.Peer): peer is MTP.peerChat {\n  return peer.hasOwnProperty('chatId');\n}\n\nexport function isPeerChannel(peer: MTP.Peer): peer is MTP.peerChannel {\n  return peer.hasOwnProperty('channelId');\n}\n\nexport function isPeerEntityUser(\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n  peer: MTP.Peer, peerEntity: MTP.user | MTP.chat | MTP.channel,\n): peerEntity is MTP.user {\n  return isPeerUser(peer);\n}\n\nexport function isPeerEntityChat(\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n  peer: MTP.Peer, peerEntity: MTP.user | MTP.chat | MTP.channel,\n): peerEntity is MTP.chat {\n  return isPeerChat(peer);\n}\n\nexport function isPeerEntityChannel(\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n  peer: MTP.Peer, peerEntity: MTP.user | MTP.chat | MTP.channel,\n): peerEntity is MTP.channel {\n  return isPeerChannel(peer);\n}\n","import { isPeerChat, isPeerUser } from './peers';\nimport { ApiChat } from '../../tdlib/types';\n\nexport function buildApiChatFromDialog(dialog: MTP.dialog, peerEntity: MTP.user | MTP.chat) {\n  return {\n    id: getApiChatIdFromMtpPeer(dialog.peer),\n    type: {\n      '@type': getApiChatTypeFromMtpPeer(dialog.peer),\n      ...(isPeerUser(dialog.peer) && { user_id: dialog.peer.userId }),\n    },\n    title: getApiChatTitleFromMtpPeer(dialog.peer, peerEntity),\n    ...buildApiChatPhotoFromMtpPeer(dialog.peer, peerEntity),\n    last_read_outbox_message_id: dialog.readOutboxMaxId,\n    last_read_inbox_message_id: dialog.readInboxMaxId,\n    unread_count: dialog.unreadCount,\n    unread_mention_count: 0, // TODO\n    order: '1', // TODO\n    // photo: {// TODO\n    //   small: {},\n    //   big: {},\n    // },\n  };\n}\n\nexport function getApiChatIdFromMtpPeer(peer: MTP.Peer) {\n  if (isPeerUser(peer)) {\n    return peer.userId;\n  } else if (isPeerChat(peer)) {\n    return -peer.chatId;\n  } else {\n    return -peer.channelId;\n  }\n}\n\nexport function getApiChatTypeFromMtpPeer(peer: MTP.Peer) {\n  if (isPeerUser(peer)) {\n    return 'chatTypePrivate';\n  } else if (isPeerChat(peer)) {\n    return 'chatTypeBasicGroup';\n  } else {\n    // TODO Support channels, supergroups, etc.\n    return 'chatTypeBasicGroup';\n  }\n}\n\nexport function getPeerKey(peer: MTP.Peer) {\n  if (isPeerUser(peer)) {\n    return `user${peer.userId}`;\n  } else if (isPeerChat(peer)) {\n    return `chat${peer.chatId}`;\n  } else {\n    return `chat${peer.channelId}`;\n  }\n}\n\nexport function getApiChatTitleFromMtpPeer(peer: MTP.Peer, peerEntity: MTP.user | MTP.chat) {\n  if (isPeerUser(peer)) {\n    return getUserName(peerEntity as MTP.user);\n  } else {\n    return (peerEntity as MTP.chat).title;\n  }\n}\n\nexport function buildApiChatPhotoFromMtpPeer(peer: MTP.Peer, peerEntity: MTP.user | MTP.chat) {\n  if (!peerEntity.photo) {\n    return null;\n  }\n\n  const { photoSmall, photoBig } = peerEntity.photo as (MTP.userProfilePhoto | MTP.chatPhoto);\n\n  return <Pick<ApiChat, 'photo_locations'>> {\n    photo_locations: {\n      small: photoSmall as MTP.FileLocationNext as MTP.fileLocationToBeDeprecated,\n      big: photoBig as MTP.FileLocationNext as MTP.fileLocationToBeDeprecated,\n    },\n  };\n}\n\nfunction getUserName(user: MTP.user) {\n  return `${user.firstName}${user.lastName ? ` ${user.lastName}` : ''}`;\n}\n","import { getApiChatIdFromMtpPeer } from './chats';\nimport { ApiMessage } from '../../tdlib/types';\nimport { isPeerUser } from './peers';\n\nconst DEFAULT_CHAT_ID = 0;\n\nexport function buildApiMessage(mtpMessage: MTP.message): ApiMessage {\n  const isPrivateToMe = isPeerUser(mtpMessage.toId);\n  const chatId = isPrivateToMe\n    ? (mtpMessage.fromId || DEFAULT_CHAT_ID)\n    : getApiChatIdFromMtpPeer(mtpMessage.toId);\n\n  return {\n    id: mtpMessage.id,\n    chat_id: chatId,\n    is_outgoing: mtpMessage.out === true,\n    content: {\n      '@type': 'message',\n      ...(mtpMessage.message && {\n        text: {\n          text: mtpMessage.message,\n        },\n      }),\n    },\n    date: mtpMessage.date,\n    sender_user_id: mtpMessage.fromId || DEFAULT_CHAT_ID, // TODO\n  };\n}\n\n// @ts-ignore\nexport function buildApiMessageFromUpdate(chatId: number, mtpMessage: UpdateShortMessage): ApiMessage {\n  return {\n    id: mtpMessage.id,\n    chat_id: chatId,\n    is_outgoing: mtpMessage.out === true,\n    content: {\n      '@type': 'message',\n      ...(mtpMessage.message && {\n        text: {\n          text: mtpMessage.message,\n        },\n      }),\n    },\n    date: mtpMessage.date,\n    sender_user_id: mtpMessage.fromId || -1,\n  };\n}\n","import { ApiUser } from '../../tdlib/types';\n\nexport function buildApiUser(mtpUser: MTP.user): ApiUser {\n  return {\n    id: mtpUser.id,\n    type: {\n      // TODO Support other user types.\n      '@type': 'userTypeRegular',\n    },\n    first_name: mtpUser.firstName,\n    last_name: mtpUser.lastName,\n  };\n}\n","import { OnUpdate, SendToWorker } from '../types/types';\n\nimport { buildApiChatFromDialog, getPeerKey } from '../connectors/chats';\nimport { buildApiMessage } from '../connectors/messages';\nimport { buildApiUser } from '../connectors/users';\n\nlet sendToClient: SendToWorker;\nlet onUpdate: OnUpdate;\n\nexport function init(_sendToClient: SendToWorker, _onUpdate: OnUpdate) {\n  sendToClient = _sendToClient;\n  onUpdate = _onUpdate;\n}\n\n// TODO Own chat should be loaded first.\n\nexport async function fetchChats({\n  limit,\n  offsetId,\n}: {\n  limit: number;\n  offsetId?: number;\n}): Promise<{ chat_ids: number[] } | null> {\n  const result = await sendToClient({\n    type: 'invokeRequest',\n    namespace: 'messages',\n    name: 'GetDialogsRequest',\n    args: {\n      flags: 1,\n      excludePinned: false,\n      limit,\n    },\n    enhancers: {\n      offsetPeer: ['buildInputPeerByApiChatId', offsetId],\n    },\n  }, true) as MTP.messages$Dialogs;\n\n  if (!result || !result.dialogs) {\n    return null;\n  }\n\n  const peersByKey = preparePeers(result);\n  const chatIds: number[] = [];\n\n  result.dialogs.forEach((dialog) => {\n    const peerEntity = peersByKey[getPeerKey(dialog.peer)];\n    const chat = buildApiChatFromDialog(dialog, peerEntity);\n\n    chatIds.push(chat.id);\n\n    onUpdate({\n      '@type': 'updateNewChat',\n      chat,\n    });\n  });\n\n  (result.users as MTP.user[]).forEach((mtpUser) => {\n    const user = buildApiUser(mtpUser);\n\n    onUpdate({\n      '@type': 'updateUser',\n      user,\n    });\n  });\n\n  (result.messages as MTP.message[]).forEach((mtpMessage) => {\n    const message = buildApiMessage(mtpMessage);\n\n    onUpdate({\n      '@type': 'updateChatLastMessage',\n      chat_id: message.chat_id,\n      last_message: message,\n    });\n  });\n\n  return {\n    chat_ids: chatIds,\n  };\n}\n\nfunction preparePeers(result: MTP.messages$Dialogs) {\n  const store: Record<string, MTP.chat | MTP.user> = {};\n\n  result.chats.forEach((chat) => {\n    store[`chat${chat.id}`] = chat as MTP.chat;\n  });\n\n  result.users.forEach((user) => {\n    store[`user${user.id}`] = user as MTP.user;\n  });\n\n  return store;\n}\n","import { ApiMessage } from '../../tdlib/types/index';\nimport { OnUpdate, SendToWorker } from '../types/types';\n\nimport { buildApiMessage } from '../connectors/messages';\nimport { buildApiUser } from '../connectors/users';\n\nlet sendToClient: SendToWorker;\nlet onUpdate: OnUpdate;\n\nexport function init(_sendToClient: SendToWorker, _onUpdate: OnUpdate) {\n  sendToClient = _sendToClient;\n  onUpdate = _onUpdate;\n}\n\nexport async function fetchMessages({ chatId, fromMessageId, limit }: {\n  chatId: number;\n  fromMessageId: number;\n  limit: number;\n}): Promise<{ messages: ApiMessage[] } | null> {\n  const result = await sendToClient({\n    type: 'invokeRequest',\n    namespace: 'messages',\n    name: 'GetHistoryRequest',\n    args: {\n      offsetId: fromMessageId,\n      limit,\n    },\n    enhancers: {\n      peer: ['buildInputPeerByApiChatId', chatId],\n    },\n  }, true) as MTP.messages$Messages;\n\n  if (!result || !result.messages) {\n    return null;\n  }\n\n  (result.users as MTP.user[]).forEach((mtpUser) => {\n    const user = buildApiUser(mtpUser);\n\n    onUpdate({\n      '@type': 'updateUser',\n      user,\n    });\n  });\n\n  const messages = (result.messages as MTP.message[]).map(buildApiMessage);\n\n  return {\n    messages,\n  };\n}\n","import { SendToWorker } from '../types/types';\nimport { ApiChat } from '../../tdlib/types';\n\nlet sendToClient: SendToWorker;\n\nexport function init(_sendToClient: SendToWorker) {\n  sendToClient = _sendToClient;\n}\n\nexport async function loadFile(chat: ApiChat): Promise<string | null> {\n  const result = await sendToClient({\n    type: 'invokeRequest',\n    namespace: 'upload',\n    name: 'GetFileRequest',\n    args: {\n      flags: 0,\n      offset: 0,\n      limit: 1024 * 1024,\n    },\n    enhancers: {\n      location: ['buildInputPeerPhotoFileLocation', chat],\n    },\n  }, true);\n\n  // eslint-disable-next-line no-underscore-dangle\n  return result && result._bytes ? bytesToUrl(result._bytes) : null;\n}\n\nfunction bytesToUrl(bytes: Uint8Array, mimeType?: string) {\n  if (!mimeType) {\n    mimeType = 'image/jpg';\n  }\n\n  return `data:${mimeType};base64,${btoa(\n    bytes.reduce((data, byte) => {\n      return data + String.fromCharCode(byte);\n    }, ''),\n  )}`;\n}\n","import { OnUpdate, WorkerMessageGramJsUpdate } from './types/types';\n\nimport { buildApiMessageFromUpdate } from './connectors/messages';\nimport { getApiChatIdFromMtpPeer } from './connectors/chats';\n\nexport function onGramJsUpdate({ constructorName, update }: WorkerMessageGramJsUpdate, onUpdate: OnUpdate) {\n  if (\n    constructorName === 'UpdateShortMessage'\n    || constructorName === 'UpdateShortChatMessage'\n  ) {\n    const chatId = getApiChatIdFromMtpPeer(update as MTP.Peer);\n    const message = buildApiMessageFromUpdate(chatId, update);\n\n    onUpdate({\n      '@type': 'updateNewMessage',\n      chat_id: message.chat_id,\n      message,\n    });\n  }\n}\n","import {\n  OnUpdate, OriginMessageData, WorkerMessageEvent, WorkerMessageResponse,\n} from './types/types';\n\nimport { init as initAuth } from './methods/auth';\nimport { init as initChats } from './methods/chats';\nimport { init as initMessages } from './methods/messages';\nimport { init as initFiles } from './methods/files';\nimport { onGramJsUpdate } from './updaters';\nimport generateIdFor from '../../util/generateIdFor';\n\ntype WorkerPromiseStore = {\n  promise: Promise<WorkerMessageResponse>;\n  resolve: Function;\n  reject: Function;\n};\n\nconst worker = new Worker('./gramjs.worker.ts');\nconst workerPromises: Record<string, WorkerPromiseStore> = {};\n\nfunction sendToWorker(message: OriginMessageData, shouldWaitForResponse = false) {\n  if (!shouldWaitForResponse) {\n    worker.postMessage(message);\n    return null;\n  }\n\n  const messageId = generateIdFor(workerPromises);\n\n  workerPromises[messageId] = {} as WorkerPromiseStore;\n  workerPromises[messageId].promise = new Promise((resolve, reject) => {\n    Object.assign(workerPromises[messageId], { resolve, reject });\n  });\n\n  workerPromises[messageId].promise.then(\n    () => {\n      delete workerPromises[messageId];\n    },\n    () => {\n      delete workerPromises[messageId];\n    },\n  );\n\n  worker.postMessage({\n    messageId,\n    ...message,\n  });\n\n  return workerPromises[messageId].promise;\n}\n\nexport function init(onUpdate: OnUpdate, sessionId = '') {\n  sendToWorker({\n    type: 'init',\n    sessionId,\n  });\n\n  worker.onmessage = (({ data }: WorkerMessageEvent) => {\n    if (data.type === 'apiUpdate') {\n      onUpdate(data.update);\n    } else if (data.type === 'gramJsUpdate') {\n      onGramJsUpdate(data, onUpdate);\n    } else if (data.type === 'invokeResponse') {\n      if (data.messageId && workerPromises[data.messageId]) {\n        if (data.result) {\n          workerPromises[data.messageId].resolve(data.result);\n        } else if (data.error) {\n          workerPromises[data.messageId].reject(data.error);\n        }\n      }\n    }\n  });\n\n  initAuth(sendToWorker);\n  initChats(sendToWorker, onUpdate);\n  initMessages(sendToWorker, onUpdate);\n  initFiles(sendToWorker);\n}\n","export { init } from './init';\nexport { provideAuthPhoneNumber, provideAuthCode, provideAuthPassword } from './methods/auth';\nexport { fetchChats } from './methods/chats';\nexport { fetchMessages } from './methods/messages';\n","import { TdLibUpdate, TdLibUpdateAuthorizationState } from '../../../api/tdlib/types';\n\nimport { getGlobal, setGlobal } from '../../../lib/teactn';\nimport { GRAMJS_SESSION_ID_KEY } from '../../../config';\n\nexport function onUpdate(update: TdLibUpdate) {\n  switch (update['@type']) {\n    case 'updateAuthorizationState':\n      onUpdateAuthorizationState(update as TdLibUpdateAuthorizationState);\n      break;\n  }\n}\n\nfunction onUpdateAuthorizationState(update: TdLibUpdateAuthorizationState) {\n  setGlobal({\n    ...getGlobal(),\n    authState: update.authorization_state['@type'],\n  });\n\n  switch (update.authorization_state['@type']) {\n    case 'authorizationStateLoggingOut':\n      setGlobal({\n        ...getGlobal(),\n        isLoggingOut: true,\n      });\n      break;\n    case 'authorizationStateWaitPhoneNumber':\n      break;\n    case 'authorizationStateWaitCode':\n      break;\n    case 'authorizationStateWaitPassword':\n      break;\n    case 'authorizationStateWaitRegistration':\n      break;\n    case 'authorizationStateReady': {\n      const { sessionId } = update;\n      if (sessionId && getGlobal().authRememberMe) {\n        localStorage.setItem(GRAMJS_SESSION_ID_KEY, sessionId);\n      }\n\n      setGlobal({\n        ...getGlobal(),\n        isLoggingOut: false,\n      });\n\n      break;\n    }\n    default:\n      break;\n  }\n}\n","import { getGlobal, setGlobal } from '../../../lib/teactn';\n\nimport { TdLibUpdate, ApiUser } from '../../../api/tdlib/types';\n\nexport function onUpdate(update: TdLibUpdate) {\n  switch (update['@type']) {\n    case 'updateUser': {\n      updateUser(update.user.id, update.user);\n\n      // TODO This is not yet supported and will block other requests.\n      // getDispatch().loadUserPhoto({ user: update.user });\n\n      break;\n    }\n\n    case 'updateUserFullInfo': {\n      const { user_id, user_full_info } = update;\n\n      updateUser(user_id, user_full_info);\n\n      break;\n    }\n\n    case 'updateUserStatus': {\n      const { user_id, status } = update;\n\n      updateUser(user_id, { status });\n\n      break;\n    }\n  }\n}\n\nfunction updateUser(userId: number, userUpdate: Partial<ApiUser>) {\n  const global = getGlobal();\n\n  setGlobal({\n    ...global,\n    users: {\n      ...global.users,\n      byId: {\n        ...global.users.byId,\n        [userId]: {\n          ...global.users.byId[userId],\n          ...userUpdate,\n        },\n      },\n    },\n  });\n}\n","import { getGlobal, setGlobal } from '../../../lib/teactn';\n\nimport { TdLibUpdate, ApiChat } from '../../../api/tdlib/types';\n\nexport function onUpdate(update: TdLibUpdate) {\n  switch (update['@type']) {\n    case 'updateNewChat': {\n      updateChat(update.chat.id, update.chat);\n\n      // TODO This blocks other requests.\n      // getDispatch().loadChatPhoto({ chat: update.chat });\n\n      break;\n    }\n\n    case 'updateChatLastMessage': {\n      const { chat_id, order, last_message } = update;\n      const chat = getGlobal().chats.byId[chat_id] || {};\n\n      updateChat(chat_id, {\n        last_message,\n        // @magic\n        order: (order === '0' && chat.order) || order,\n      });\n\n      break;\n    }\n\n    case 'updateChatReadInbox': {\n      const { chat_id, last_read_inbox_message_id, unread_count } = update;\n\n      updateChat(chat_id, {\n        last_read_inbox_message_id,\n        unread_count,\n      });\n\n      break;\n    }\n\n    case 'updateChatReadOutbox': {\n      const { chat_id, last_read_outbox_message_id } = update;\n\n      updateChat(chat_id, {\n        last_read_outbox_message_id,\n      });\n\n      break;\n    }\n  }\n}\n\nfunction updateChat(chatId: number, chatUpdate: Partial<ApiChat>) {\n  const global = getGlobal();\n\n  setGlobal({\n    ...global,\n    chats: {\n      ...global.chats,\n      byId: {\n        ...global.chats.byId,\n        [chatId]: {\n          ...global.chats.byId[chatId],\n          ...chatUpdate,\n        },\n      },\n    },\n  });\n}\n","import { getGlobal, setGlobal } from '../../../lib/teactn';\n\nimport { TdLibUpdate, ApiMessage } from '../../../api/tdlib/types';\n\nexport function onUpdate(update: TdLibUpdate) {\n  switch (update['@type']) {\n    case 'updateNewMessage': {\n      const { message } = update;\n\n      updateMessage(message.chat_id, message.id, message);\n\n      break;\n    }\n\n    case 'updateMessageSendSucceeded': {\n      const { message, old_message_id } = update;\n\n      replaceMessage(message.chat_id, old_message_id, message);\n\n      break;\n    }\n\n    // case 'updateMessageSendFailed': {\n    //   const { message, old_message_id } = update;\n    //\n    //   updateMessage(message.chat_id, old_message_id, message);\n    //\n    //   break;\n    // }\n  }\n}\n\nfunction updateMessage(chatId: number, messageId: number, messageUpdate: Partial<ApiMessage>) {\n  const global = getGlobal();\n\n  setGlobal({\n    ...global,\n    messages: {\n      ...global.messages,\n      byChatId: {\n        ...global.messages.byChatId,\n        [chatId]: {\n          byId: {\n            ...(global.messages.byChatId[chatId] || {}).byId,\n            [messageId]: {\n              ...((global.messages.byChatId[chatId] || {}).byId || {})[messageId],\n              ...messageUpdate,\n            },\n          },\n        },\n      },\n    },\n  });\n}\n\nfunction replaceMessage(chatId: number, oldMessageId: number, message: ApiMessage) {\n  const global = getGlobal();\n\n  const newMessageId = message.id;\n\n  const newGlobal = {\n    ...global,\n    messages: {\n      ...global.messages,\n      byChatId: {\n        ...global.messages.byChatId,\n        [chatId]: {\n          byId: {\n            ...(global.messages.byChatId[chatId] || {}).byId,\n            [newMessageId]: message,\n          },\n        },\n      },\n    },\n  };\n\n  delete newGlobal.messages.byChatId[chatId].byId[oldMessageId];\n\n  setGlobal(newGlobal);\n}\n","\nimport { TdLibUpdate } from '../../../api/tdlib/types';\nimport { DEBUG } from '../../../config';\nimport * as system from './system';\nimport * as users from './users';\nimport * as chats from './chats';\nimport * as messages from './messages';\n\nexport default function onUpdate(update: TdLibUpdate) {\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.log('[GramJs] UPDATE', update['@type'], { update });\n  }\n\n  system.onUpdate(update);\n  users.onUpdate(update);\n  chats.onUpdate(update);\n  messages.onUpdate(update);\n}\n","import {\n  addReducer, getDispatch, getGlobal, setGlobal,\n} from '../../../lib/teactn';\n\nimport { GlobalState } from '../../../store/types';\nimport { GRAMJS_SESSION_ID_KEY } from '../../../config';\nimport {\n  init, provideAuthPhoneNumber, provideAuthCode, provideAuthPassword,\n} from '../../../api/gramjs';\nimport onUpdate from '../updaters';\n\naddReducer('init', (global: GlobalState) => {\n  const sessionId = localStorage.getItem(GRAMJS_SESSION_ID_KEY) || '';\n  init(onUpdate, sessionId);\n\n  return {\n    ...global,\n    isInitialized: true,\n    authIsSessionRemembered: Boolean(sessionId),\n  };\n});\n\naddReducer('setAuthPhoneNumber', (global, actions, payload) => {\n  const { phoneNumber } = payload!;\n\n  void setAuthPhoneNumber(phoneNumber);\n});\n\naddReducer('setAuthCode', (global, actions, payload) => {\n  const { code } = payload!;\n\n  void provideAuthCode(code);\n});\n\naddReducer('setAuthPassword', (global, actions, payload) => {\n  const { password } = payload!;\n\n  void provideAuthPassword(password);\n});\n\nasync function setAuthPhoneNumber(phoneNumber: string) {\n  setGlobal({\n    ...getGlobal(),\n    authIsLoading: true,\n    authError: undefined,\n  });\n\n  try {\n    // TODO Not working: API method not handled by `invokeMethod`.\n    await provideAuthPhoneNumber(phoneNumber);\n  } catch (err) {\n    setGlobal({\n      ...getGlobal(),\n      authError: 'Try Again Later',\n    });\n  }\n\n  setGlobal({\n    ...getGlobal(),\n    authIsLoading: false,\n  });\n}\n\n// addReducer('setPassword', (global, actions, payload) => {\n//   const { code } = payload!;\n//\n//   void provideAuthPassword(code);\n// });\n\naddReducer('signOut', () => {\n  localStorage.removeItem(GRAMJS_SESSION_ID_KEY);\n\n  getDispatch().init();\n});\n","import {\n  addReducer, getDispatch, getGlobal, setGlobal,\n} from '../../../lib/teactn';\n\nimport { fetchChats } from '../../../api/gramjs';\n\nconst LOAD_CHATS_LIMIT = 50;\n\naddReducer('loadChats', () => {\n  void loadChats();\n});\n\naddReducer('loadMoreChats', (global) => {\n  const lastChatId = global.chats.ids[global.chats.ids.length - 1];\n  void loadChats(lastChatId);\n});\n\naddReducer('setChatScrollOffset', (global, actions, payload) => {\n  const { chatId, scrollOffset } = payload!;\n\n  setGlobal({\n    ...global,\n    chats: {\n      ...global.chats,\n      scrollOffsetById: {\n        ...global.chats.scrollOffsetById,\n        [chatId]: scrollOffset,\n      },\n    },\n  });\n});\n\nasync function loadChats(offsetId?: number) {\n  const result = await fetchChats({\n    limit: LOAD_CHATS_LIMIT,\n    offsetId,\n  });\n\n  if (!result) {\n    return;\n  }\n\n  const { chat_ids } = result;\n\n  if (chat_ids.length > 0 && chat_ids[0] === offsetId) {\n    chat_ids.shift();\n  }\n\n  const global = getGlobal();\n  const currentIds = global.chats.ids;\n  const newIds = (currentIds && currentIds.length) ? chat_ids.filter((id) => !currentIds.includes(id)) : chat_ids;\n\n  setGlobal({\n    ...global,\n    chats: {\n      ...global.chats,\n      ids: [\n        ...currentIds,\n        ...newIds,\n      ],\n    },\n  });\n\n  const currentSelectedId = global.chats.selectedId;\n  const prevSelectedId = Number(localStorage.getItem('selectedChatId'));\n\n  if (!currentSelectedId && prevSelectedId && newIds.includes(prevSelectedId)) {\n    getDispatch().selectChat({ id: prevSelectedId });\n  }\n}\n","import { addReducer, getGlobal, setGlobal } from '../../../lib/teactn';\nimport { ApiMessage } from '../../../api/tdlib/types';\n\nimport { fetchMessages } from '../../../api/gramjs';\nimport { buildCollectionById } from '../../../util/iteratees';\n\nconst MESSAGE_SLICE_LIMIT = 50;\n\naddReducer('loadChatMessages', (global, actions, payload) => {\n  const { chatId } = payload!;\n\n  void loadChatMessages(chatId);\n});\n\naddReducer('loadMoreChatMessages', (global, actions, payload) => {\n  const { chatId } = payload!;\n\n  const byChatId = global.messages.byChatId[chatId];\n  const chatMessageIds = byChatId ? Object.keys(byChatId.byId || {}) : null;\n  const lowestMessageId = chatMessageIds && chatMessageIds.length && Math.min(...chatMessageIds.map(Number));\n\n  void loadChatMessages(chatId, lowestMessageId || undefined);\n});\n\n// addReducer('sendTextMessage', (global, actions, payload) => {\n//   const { chatId, text, fromMessageId } = payload!;\n//\n//   void sendTextMessage(chatId, text, fromMessageId);\n// });\n\nasync function loadChatMessages(chatId: number, fromMessageId = 0) {\n  let messages = await loadChatMessagesPart(chatId, fromMessageId);\n\n  if (!messages) {\n    return;\n  }\n\n  let wasLatestEmpty = !messages.length;\n\n  while (messages.length < MESSAGE_SLICE_LIMIT && !wasLatestEmpty) {\n    const nextPart: ApiMessage[] | null = await loadChatMessagesPart(chatId, messages[messages.length - 1].id);\n\n    if (nextPart && nextPart.length) {\n      messages = [\n        ...messages,\n        ...nextPart,\n      ];\n    } else {\n      wasLatestEmpty = true;\n    }\n  }\n\n  const messagesById = buildCollectionById(messages);\n\n  const global = getGlobal();\n\n  setGlobal({\n    ...global,\n    messages: {\n      ...global.messages,\n      byChatId: {\n        ...global.messages.byChatId,\n        [chatId]: {\n          byId: {\n            ...(global.messages.byChatId[chatId] || {}).byId,\n            ...messagesById,\n          },\n        },\n      },\n    },\n  });\n}\n\nasync function loadChatMessagesPart(chatId: number, fromMessageId = 0) {\n  const result = await fetchMessages({\n    chatId,\n    fromMessageId,\n    limit: MESSAGE_SLICE_LIMIT,\n  });\n\n  if (!result) {\n    return null;\n  }\n\n  return result.messages;\n}\n\n// async function sendTextMessage(chatId: number, text: string, replyToMessageId?: number) {\n// }\n","import { addReducer, getGlobal, setGlobal } from '../../../lib/teactn';\n\nimport { ApiChat } from '../../../api/tdlib/types';\nimport { loadFile } from '../../../api/gramjs/methods/files';\n\naddReducer('loadChatPhoto', (global, actions, payload) => {\n  const { chat } = payload!;\n\n  void loadChatPhoto(chat);\n});\n\nasync function loadChatPhoto(chat: ApiChat) {\n  const fileLocation = chat.photo_locations && chat.photo_locations.small;\n\n  if (!fileLocation) {\n    return;\n  }\n\n  const dataUrl = await loadFile(chat);\n\n  if (!dataUrl) {\n    return;\n  }\n\n  updateFile(chat.id, dataUrl);\n}\n\n\nfunction updateFile(fileId: number, dataUrl: string) {\n  const global = getGlobal();\n\n  setGlobal({\n    ...global,\n    files: {\n      ...global.files,\n      byId: {\n        ...global.files.byId,\n        [fileId]: {\n          ...(global.files.byId[fileId] || {}),\n          blobUrl: dataUrl,\n        },\n      },\n    },\n  });\n}\n","import './system';\nimport './chats';\nimport './messages';\nimport './files';\n","import './actions';\n","import { addReducer } from '../lib/teactn';\n\nimport { GlobalState } from '../store/types';\n\naddReducer('returnToAuthPhoneNumber', (global: GlobalState) => {\n  return {\n    ...global,\n    authState: 'authorizationStateWaitPhoneNumber',\n  };\n});\n\naddReducer('setAuthPhoneNumber', (global, actions, payload) => {\n  const { phoneNumber } = payload!;\n\n  return {\n    ...global,\n    authPhoneNumber: phoneNumber,\n  };\n});\n\naddReducer('setAuthRememberMe', (global, actions, payload) => {\n  return {\n    ...global,\n    authRememberMe: Boolean(payload),\n  };\n});\n","import { addReducer } from '../lib/teactn';\n\naddReducer('selectChat', (global, actions, payload) => {\n  const { id } = payload!;\n\n  localStorage.setItem('selectedChatId', id);\n\n  return {\n    ...global,\n    chats: {\n      ...global.chats,\n      selectedId: id,\n    },\n  };\n});\n","// import './tdlib';\nimport './gramjs';\nimport './auth';\nimport './chats';\n","module.exports=[{id:\"AF\",name:\"Afghanistan\",flag:\"\",code:\"+93\"},{id:\"AO\",name:\"Angola\",flag:\"\",code:\"+244\"},{id:\"AL\",name:\"Albania\",flag:\"\",code:\"+355\"},{id:\"AD\",name:\"Andorra\",flag:\"\",code:\"+376\"},{id:\"AE\",name:\"United Arab Emirates\",flag:\"\",code:\"+971\"},{id:\"AR\",name:\"Argentina\",flag:\"\",code:\"+54\"},{id:\"AM\",name:\"Armenia\",flag:\"\",code:\"+374\"},{id:\"AG\",name:\"Antigua and Barbuda\",flag:\"\",code:\"+1268\"},{id:\"AU\",name:\"Australia\",flag:\"\",code:\"+61\"},{id:\"AT\",name:\"Austria\",flag:\"\",code:\"+43\"},{id:\"AZ\",name:\"Azerbaijan\",flag:\"\",code:\"+994\"},{id:\"BI\",name:\"Burundi\",flag:\"\",code:\"+257\"},{id:\"BE\",name:\"Belgium\",flag:\"\",code:\"+32\"},{id:\"BJ\",name:\"Benin\",flag:\"\",code:\"+229\"},{id:\"BF\",name:\"Burkina Faso\",flag:\"\",code:\"+226\"},{id:\"BD\",name:\"Bangladesh\",flag:\"\",code:\"+880\"},{id:\"BG\",name:\"Bulgaria\",flag:\"\",code:\"+359\"},{id:\"BH\",name:\"Bahrain\",flag:\"\",code:\"+973\"},{id:\"BS\",name:\"Bahamas\",flag:\"\",code:\"+1242\"},{id:\"BA\",name:\"Bosnia and Herzegovina\",flag:\"\",code:\"+387\"},{id:\"BY\",name:\"Belarus\",flag:\"\",code:\"+375\"},{id:\"BZ\",name:\"Belize\",flag:\"\",code:\"+501\"},{id:\"BO\",name:\"Bolivia\",flag:\"\",code:\"+591\"},{id:\"BR\",name:\"Brazil\",flag:\"\",code:\"+55\"},{id:\"BB\",name:\"Barbados\",flag:\"\",code:\"+1246\"},{id:\"BN\",name:\"Brunei\",flag:\"\",code:\"+673\"},{id:\"BT\",name:\"Bhutan\",flag:\"\",code:\"+975\"},{id:\"BW\",name:\"Botswana\",flag:\"\",code:\"+267\"},{id:\"CF\",name:\"Central African Republic\",flag:\"\",code:\"+236\"},{id:\"CA\",name:\"Canada\",flag:\"\",code:\"+1\"},{id:\"CH\",name:\"Switzerland\",flag:\"\",code:\"+41\"},{id:\"CL\",name:\"Chile\",flag:\"\",code:\"+56\"},{id:\"CN\",name:\"China\",flag:\"\",code:\"+86\"},{id:\"CI\",name:\"Ivory Coast\",flag:\"\",code:\"+225\"},{id:\"CM\",name:\"Cameroon\",flag:\"\",code:\"+237\"},{id:\"CD\",name:\"DR Congo\",flag:\"\",code:\"+243\"},{id:\"CG\",name:\"Republic of the Congo\",flag:\"\",code:\"+242\"},{id:\"CO\",name:\"Colombia\",flag:\"\",code:\"+57\"},{id:\"KM\",name:\"Comoros\",flag:\"\",code:\"+269\"},{id:\"CV\",name:\"Cape Verde\",flag:\"\",code:\"+238\"},{id:\"CR\",name:\"Costa Rica\",flag:\"\",code:\"+506\"},{id:\"CU\",name:\"Cuba\",flag:\"\",code:\"+53\"},{id:\"CY\",name:\"Cyprus\",flag:\"\",code:\"+357\"},{id:\"CZ\",name:\"Czechia\",flag:\"\",code:\"+420\"},{id:\"DE\",name:\"Germany\",flag:\"\",code:\"+49\"},{id:\"DJ\",name:\"Djibouti\",flag:\"\",code:\"+253\"},{id:\"DM\",name:\"Dominica\",flag:\"\",code:\"+1767\"},{id:\"DK\",name:\"Denmark\",flag:\"\",code:\"+45\"},{id:\"DO\",name:\"Dominican Republic\",flag:\"\",code:\"+1\"},{id:\"DZ\",name:\"Algeria\",flag:\"\",code:\"+213\"},{id:\"EC\",name:\"Ecuador\",flag:\"\",code:\"+593\"},{id:\"EG\",name:\"Egypt\",flag:\"\",code:\"+20\"},{id:\"ER\",name:\"Eritrea\",flag:\"\",code:\"+291\"},{id:\"ES\",name:\"Spain\",flag:\"\",code:\"+34\"},{id:\"EE\",name:\"Estonia\",flag:\"\",code:\"+372\"},{id:\"ET\",name:\"Ethiopia\",flag:\"\",code:\"+251\"},{id:\"FI\",name:\"Finland\",flag:\"\",code:\"+358\"},{id:\"FJ\",name:\"Fiji\",flag:\"\",code:\"+679\"},{id:\"FR\",name:\"France\",flag:\"\",code:\"+33\"},{id:\"FM\",name:\"Micronesia\",flag:\"\",code:\"+691\"},{id:\"GA\",name:\"Gabon\",flag:\"\",code:\"+241\"},{id:\"GB\",name:\"United Kingdom\",flag:\"\",code:\"+44\"},{id:\"GE\",name:\"Georgia\",flag:\"\",code:\"+995\"},{id:\"GH\",name:\"Ghana\",flag:\"\",code:\"+233\"},{id:\"GN\",name:\"Guinea\",flag:\"\",code:\"+224\"},{id:\"GM\",name:\"Gambia\",flag:\"\",code:\"+220\"},{id:\"GW\",name:\"Guinea-Bissau\",flag:\"\",code:\"+245\"},{id:\"GQ\",name:\"Equatorial Guinea\",flag:\"\",code:\"+240\"},{id:\"GR\",name:\"Greece\",flag:\"\",code:\"+30\"},{id:\"GD\",name:\"Grenada\",flag:\"\",code:\"+1473\"},{id:\"GT\",name:\"Guatemala\",flag:\"\",code:\"+502\"},{id:\"GY\",name:\"Guyana\",flag:\"\",code:\"+592\"},{id:\"HN\",name:\"Honduras\",flag:\"\",code:\"+504\"},{id:\"HR\",name:\"Croatia\",flag:\"\",code:\"+385\"},{id:\"HT\",name:\"Haiti\",flag:\"\",code:\"+509\"},{id:\"HU\",name:\"Hungary\",flag:\"\",code:\"+36\"},{id:\"ID\",name:\"Indonesia\",flag:\"\",code:\"+62\"},{id:\"IN\",name:\"India\",flag:\"\",code:\"+91\"},{id:\"IE\",name:\"Ireland\",flag:\"\",code:\"+353\"},{id:\"IR\",name:\"Iran\",flag:\"\",code:\"+98\"},{id:\"IQ\",name:\"Iraq\",flag:\"\",code:\"+964\"},{id:\"IS\",name:\"Iceland\",flag:\"\",code:\"+354\"},{id:\"IL\",name:\"Israel\",flag:\"\",code:\"+972\"},{id:\"IT\",name:\"Italy\",flag:\"\",code:\"+39\"},{id:\"JM\",name:\"Jamaica\",flag:\"\",code:\"+1876\"},{id:\"JO\",name:\"Jordan\",flag:\"\",code:\"+962\"},{id:\"JP\",name:\"Japan\",flag:\"\",code:\"+81\"},{id:\"KZ\",name:\"Kazakhstan\",flag:\"\",code:\"+7\"},{id:\"KE\",name:\"Kenya\",flag:\"\",code:\"+254\"},{id:\"KG\",name:\"Kyrgyzstan\",flag:\"\",code:\"+996\"},{id:\"KH\",name:\"Cambodia\",flag:\"\",code:\"+855\"},{id:\"KI\",name:\"Kiribati\",flag:\"\",code:\"+686\"},{id:\"KN\",name:\"Saint Kitts and Nevis\",flag:\"\",code:\"+1869\"},{id:\"KR\",name:\"South Korea\",flag:\"\",code:\"+82\"},{id:\"KW\",name:\"Kuwait\",flag:\"\",code:\"+965\"},{id:\"LA\",name:\"Laos\",flag:\"\",code:\"+856\"},{id:\"LB\",name:\"Lebanon\",flag:\"\",code:\"+961\"},{id:\"LR\",name:\"Liberia\",flag:\"\",code:\"+231\"},{id:\"LY\",name:\"Libya\",flag:\"\",code:\"+218\"},{id:\"LC\",name:\"Saint Lucia\",flag:\"\",code:\"+1758\"},{id:\"LI\",name:\"Liechtenstein\",flag:\"\",code:\"+423\"},{id:\"LK\",name:\"Sri Lanka\",flag:\"\",code:\"+94\"},{id:\"LS\",name:\"Lesotho\",flag:\"\",code:\"+266\"},{id:\"LT\",name:\"Lithuania\",flag:\"\",code:\"+370\"},{id:\"LU\",name:\"Luxembourg\",flag:\"\",code:\"+352\"},{id:\"LV\",name:\"Latvia\",flag:\"\",code:\"+371\"},{id:\"MA\",name:\"Morocco\",flag:\"\",code:\"+212\"},{id:\"MC\",name:\"Monaco\",flag:\"\",code:\"+377\"},{id:\"MD\",name:\"Moldova\",flag:\"\",code:\"+373\"},{id:\"MG\",name:\"Madagascar\",flag:\"\",code:\"+261\"},{id:\"MV\",name:\"Maldives\",flag:\"\",code:\"+960\"},{id:\"MX\",name:\"Mexico\",flag:\"\",code:\"+52\"},{id:\"MH\",name:\"Marshall Islands\",flag:\"\",code:\"+692\"},{id:\"MK\",name:\"North Macedonia\",flag:\"\",code:\"+389\"},{id:\"ML\",name:\"Mali\",flag:\"\",code:\"+223\"},{id:\"MT\",name:\"Malta\",flag:\"\",code:\"+356\"},{id:\"MM\",name:\"Myanmar\",flag:\"\",code:\"+95\"},{id:\"ME\",name:\"Montenegro\",flag:\"\",code:\"+382\"},{id:\"MN\",name:\"Mongolia\",flag:\"\",code:\"+976\"},{id:\"MZ\",name:\"Mozambique\",flag:\"\",code:\"+258\"},{id:\"MR\",name:\"Mauritania\",flag:\"\",code:\"+222\"},{id:\"MU\",name:\"Mauritius\",flag:\"\",code:\"+230\"},{id:\"MW\",name:\"Malawi\",flag:\"\",code:\"+265\"},{id:\"MY\",name:\"Malaysia\",flag:\"\",code:\"+60\"},{id:\"NA\",name:\"Namibia\",flag:\"\",code:\"+264\"},{id:\"NE\",name:\"Niger\",flag:\"\",code:\"+227\"},{id:\"NG\",name:\"Nigeria\",flag:\"\",code:\"+234\"},{id:\"NI\",name:\"Nicaragua\",flag:\"\",code:\"+505\"},{id:\"NL\",name:\"Netherlands\",flag:\"\",code:\"+31\"},{id:\"NO\",name:\"Norway\",flag:\"\",code:\"+47\"},{id:\"NP\",name:\"Nepal\",flag:\"\",code:\"+977\"},{id:\"NR\",name:\"Nauru\",flag:\"\",code:\"+674\"},{id:\"NZ\",name:\"New Zealand\",flag:\"\",code:\"+64\"},{id:\"OM\",name:\"Oman\",flag:\"\",code:\"+968\"},{id:\"PK\",name:\"Pakistan\",flag:\"\",code:\"+92\"},{id:\"PA\",name:\"Panama\",flag:\"\",code:\"+507\"},{id:\"PE\",name:\"Peru\",flag:\"\",code:\"+51\"},{id:\"PH\",name:\"Philippines\",flag:\"\",code:\"+63\"},{id:\"PW\",name:\"Palau\",flag:\"\",code:\"+680\"},{id:\"PG\",name:\"Papua New Guinea\",flag:\"\",code:\"+675\"},{id:\"PL\",name:\"Poland\",flag:\"\",code:\"+48\"},{id:\"KP\",name:\"North Korea\",flag:\"\",code:\"+850\"},{id:\"PT\",name:\"Portugal\",flag:\"\",code:\"+351\"},{id:\"PY\",name:\"Paraguay\",flag:\"\",code:\"+595\"},{id:\"QA\",name:\"Qatar\",flag:\"\",code:\"+974\"},{id:\"RO\",name:\"Romania\",flag:\"\",code:\"+40\"},{id:\"RU\",name:\"Russia\",flag:\"\",code:\"+7\"},{id:\"RW\",name:\"Rwanda\",flag:\"\",code:\"+250\"},{id:\"SA\",name:\"Saudi Arabia\",flag:\"\",code:\"+966\"},{id:\"SD\",name:\"Sudan\",flag:\"\",code:\"+249\"},{id:\"SN\",name:\"Senegal\",flag:\"\",code:\"+221\"},{id:\"SG\",name:\"Singapore\",flag:\"\",code:\"+65\"},{id:\"SB\",name:\"Solomon Islands\",flag:\"\",code:\"+677\"},{id:\"SL\",name:\"Sierra Leone\",flag:\"\",code:\"+232\"},{id:\"SV\",name:\"El Salvador\",flag:\"\",code:\"+503\"},{id:\"SM\",name:\"San Marino\",flag:\"\",code:\"+378\"},{id:\"SO\",name:\"Somalia\",flag:\"\",code:\"+252\"},{id:\"RS\",name:\"Serbia\",flag:\"\",code:\"+381\"},{id:\"SS\",name:\"South Sudan\",flag:\"\",code:\"+211\"},{id:\"ST\",name:\"So Tom and Prncipe\",flag:\"\",code:\"+239\"},{id:\"SR\",name:\"Suriname\",flag:\"\",code:\"+597\"},{id:\"SK\",name:\"Slovakia\",flag:\"\",code:\"+421\"},{id:\"SI\",name:\"Slovenia\",flag:\"\",code:\"+386\"},{id:\"SE\",name:\"Sweden\",flag:\"\",code:\"+46\"},{id:\"SZ\",name:\"Eswatini\",flag:\"\",code:\"+268\"},{id:\"SC\",name:\"Seychelles\",flag:\"\",code:\"+248\"},{id:\"SY\",name:\"Syria\",flag:\"\",code:\"+963\"},{id:\"TD\",name:\"Chad\",flag:\"\",code:\"+235\"},{id:\"TG\",name:\"Togo\",flag:\"\",code:\"+228\"},{id:\"TH\",name:\"Thailand\",flag:\"\",code:\"+66\"},{id:\"TJ\",name:\"Tajikistan\",flag:\"\",code:\"+992\"},{id:\"TM\",name:\"Turkmenistan\",flag:\"\",code:\"+993\"},{id:\"TL\",name:\"Timor-Leste\",flag:\"\",code:\"+670\"},{id:\"TO\",name:\"Tonga\",flag:\"\",code:\"+676\"},{id:\"TT\",name:\"Trinidad and Tobago\",flag:\"\",code:\"+1868\"},{id:\"TN\",name:\"Tunisia\",flag:\"\",code:\"+216\"},{id:\"TR\",name:\"Turkey\",flag:\"\",code:\"+90\"},{id:\"TV\",name:\"Tuvalu\",flag:\"\",code:\"+688\"},{id:\"TZ\",name:\"Tanzania\",flag:\"\",code:\"+255\"},{id:\"UG\",name:\"Uganda\",flag:\"\",code:\"+256\"},{id:\"UA\",name:\"Ukraine\",flag:\"\",code:\"+380\"},{id:\"UY\",name:\"Uruguay\",flag:\"\",code:\"+598\"},{id:\"US\",name:\"United States\",flag:\"\",code:\"+1\"},{id:\"UZ\",name:\"Uzbekistan\",flag:\"\",code:\"+998\"},{id:\"VA\",name:\"Vatican City\",flag:\"\",code:\"+3\"},{id:\"VC\",name:\"Saint Vincent and the Grenadines\",flag:\"\",code:\"+1784\"},{id:\"VE\",name:\"Venezuela\",flag:\"\",code:\"+58\"},{id:\"VN\",name:\"Vietnam\",flag:\"\",code:\"+84\"},{id:\"VU\",name:\"Vanuatu\",flag:\"\",code:\"+678\"},{id:\"WS\",name:\"Samoa\",flag:\"\",code:\"+685\"},{id:\"YE\",name:\"Yemen\",flag:\"\",code:\"+967\"},{id:\"ZA\",name:\"South Africa\",flag:\"\",code:\"+27\"},{id:\"ZM\",name:\"Zambia\",flag:\"\",code:\"+260\"},{id:\"ZW\",name:\"Zimbabwe\",flag:\"\",code:\"+263\"}];","function getPhoneNumberFormat(country?: Country) {\n  const id = country ? country.id : 'UNKNOWN';\n\n  switch (id) {\n    case 'RU':\n    case 'US':\n      return /(\\d{1,3})(\\d{1,3})?(\\d{1,2})?(\\d{1,2})?()?/;\n    case 'UA':\n    case 'FI':\n    case 'AE':\n      return /(\\d{1,2})(\\d{1,3})?(\\d{1,2})?(\\d{1,2})?()?/;\n    default:\n      return /(\\d{1,3})(\\d{1,3})?(\\d{1,3})?(\\d{1,3})?(\\d{1,3})?/;\n  }\n}\n\nexport default function formatPhoneNumber(input: string, country?: Country) {\n  let phoneNumber = input.replace(/[^\\d]+/g, '');\n  if (country) {\n    phoneNumber = phoneNumber.substr(country.code.length - 1);\n  }\n\n  phoneNumber = phoneNumber.replace(getPhoneNumberFormat(country), (_, p1, p2, p3, p4, p5) => {\n    let output = '';\n    if (p1) output = `${p1}`;\n    if (p2) output += ` ${p2}`;\n    if (p3) output += `-${p3}`;\n    if (p4) output += `-${p4}`;\n    if (p5) output += `-${p5}`;\n    return output;\n  });\n\n  return phoneNumber;\n}\n","import React, { FC } from '../lib/teact';\n\nimport './Spinner.scss';\n\nconst Spinner: FC<{ color?: 'blue' | 'white' }> = ({ color = 'blue' }) => {\n  return (\n    <div className={`Spinner ${color}`} />\n  );\n};\n\nexport default Spinner;\n","import { MouseEvent } from 'react';\n\nimport React, { FC, JsxChildren } from '../../lib/teact';\n\nimport Spinner from '../Spinner';\nimport './Button.scss';\n\ntype OnClickHandler = (e: MouseEvent<HTMLButtonElement>) => void;\n\ninterface IProps {\n  type?: 'button' | 'submit' | 'reset';\n  onClick?: Function;\n  children: JsxChildren;\n  size?: 'default' | 'smaller';\n  color?: 'primary' | 'secondary' | 'translucent';\n  className?: string;\n  round?: boolean;\n  isLoading?: boolean;\n}\n\nconst Button: FC<IProps> = ({\n  type = 'button',\n  onClick,\n  children,\n  size = 'default',\n  color = 'primary',\n  className,\n  round,\n  isLoading,\n}) => {\n  let combinedClass = 'Button';\n  combinedClass += ` ${size} ${color}`;\n\n  if (round) {\n    combinedClass += ' round';\n  }\n  if (className) {\n    combinedClass += ` ${className}`;\n  }\n  if (isLoading) {\n    combinedClass += ' loading';\n  }\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button type={type} className={combinedClass} onClick={onClick ? onClick as OnClickHandler : undefined}>\n      {isLoading ? (\n        <div>\n          <span>Please wait...</span>\n          <Spinner color=\"white\" />\n        </div>\n      ) : children}\n    </button>\n  );\n};\n\nexport default Button;\n","import { ChangeEvent } from 'react';\nimport React, { FC } from '../../lib/teact';\n\ninterface IProps {\n  id?: string;\n  value?: string;\n  label?: string;\n  error?: string;\n  placeholder?: string;\n  onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\n  onKeyPress?: (e: React.KeyboardEvent<HTMLInputElement>) => void;\n}\n\nconst InputText: FC<IProps> = ({\n  id,\n  value,\n  label,\n  error,\n  placeholder,\n  onChange,\n  onKeyPress,\n}) => {\n  let className = 'input-group';\n  if (value) {\n    className += ' touched';\n  }\n  if (error) {\n    className += ' error';\n  }\n\n  return (\n    <div className={className}>\n      <input\n        className=\"form-control\"\n        type=\"text\"\n        id={id}\n        value={value || ''}\n        onChange={onChange}\n        onKeyPress={onKeyPress}\n        placeholder={placeholder || label}\n      />\n      {(error || label) && (\n        <label>{error || label}</label>\n      )}\n    </div>\n  );\n};\n\nexport default InputText;\n","export default function getPlatform() {\n  const { userAgent, platform } = window.navigator;\n  const macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n  const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n  const iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n  let os: string | null = null;\n\n  if (macosPlatforms.indexOf(platform) !== -1) {\n    os = 'Mac OS';\n  } else if (iosPlatforms.indexOf(platform) !== -1) {\n    os = 'iOS';\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\n    os = 'Windows';\n  } else if (/Android/.test(userAgent)) {\n    os = 'Android';\n  } else if (!os && /Linux/.test(platform)) {\n    os = 'Linux';\n  }\n\n  return os;\n}\n","export default function getEventTarget(event: React.MouseEvent<any, MouseEvent>, tag: string) {\n  const initialTarget = event.target as HTMLElement;\n  if (initialTarget.tagName === tag) {\n    return initialTarget;\n  }\n\n  let intendedTarget = initialTarget.parentNode as HTMLElement | null;\n  while (intendedTarget && intendedTarget.tagName !== tag) {\n    intendedTarget = intendedTarget.parentNode as HTMLElement | null;\n  }\n\n  return intendedTarget;\n}\n","import React, { FC, JsxChildren, useState } from '../../lib/teact';\n\nimport './DropdownMenu.scss';\n\ninterface IProps {\n  className?: string;\n  trigger: FC<{ onClick: () => void }>;\n  positionX?: 'left' | 'right';\n  positionY?: 'top' | 'bottom';\n  children: JsxChildren;\n}\n\nconst DropdownMenu: FC<IProps> = (props) => {\n  const {\n    trigger,\n    className,\n    children,\n    positionX = 'left',\n    positionY = 'top',\n  } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const [isShown, setIsShown] = useState(false);\n\n  let bubbleClassName = `bubble ${positionY} ${positionX}`;\n\n  if (isOpen) {\n    bubbleClassName += ' open';\n  }\n\n  if (isShown) {\n    bubbleClassName += ' shown';\n  }\n\n  const toggleIsOpen = () => {\n    if (isOpen) {\n      setTimeout(() => setIsShown(false), 150);\n    } else {\n      setIsShown(true);\n    }\n\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <div className={`DropdownMenu ${className || ''}`}>\n      {trigger({ onClick: toggleIsOpen })}\n      {isOpen && (\n        <div className=\"backdrop\" onClick={toggleIsOpen} />\n      )}\n      {/* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions */}\n      <ul className={bubbleClassName} onClick={toggleIsOpen}>\n        {children}\n      </ul>\n    </div>\n  );\n};\n\nexport default DropdownMenu;\n","import { MouseEvent as ReactMouseEvent } from 'react';\n\nimport React, { FC, JsxChildren } from '../../lib/teact';\n\nimport './DropdownMenu.scss';\n\ntype OnClickHandler = (e: ReactMouseEvent<HTMLButtonElement>) => void;\n\ninterface IProps {\n  icon?: string;\n  className?: string;\n  children: JsxChildren;\n  onClick?: OnClickHandler;\n}\n\nconst DropdownMenuItem: FC<IProps> = (props) => {\n  const {\n    icon,\n    className,\n    children,\n    onClick,\n  } = props;\n\n  return (\n    <li className={`DropdownMenuItem ${className}`}>\n      <button type=\"button\" onClick={onClick as OnClickHandler}>\n        {icon && (\n          <i className={`icon-${icon}`} />\n        )}\n        {children}\n      </button>\n    </li>\n  );\n};\n\nexport default DropdownMenuItem;\n","import React, { FC } from '../../lib/teact';\n\nimport countryList from '../../../public/countries.json';\nimport getPlatform from '../../util/getPlatform';\nimport getEventTarget from '../../util/getEventTarget';\n\nimport DropdownMenu from './DropdownMenu';\nimport DropdownMenuItem from './DropdownMenuItem';\n\nimport './CountryCodeInput.scss';\n\ntype IProps = {\n  id: string;\n  value?: Country;\n  onChange?: (value: Country) => void;\n};\n\nconst CountryCodeInput: FC<IProps> = (props) => {\n  const { id, value, onChange } = props;\n\n  let className = 'input-group';\n  if (value) {\n    className += ' touched';\n  }\n\n  const baseFlagClass = getPlatform() === 'Windows'\n    ? 'country-flag sprite'\n    : 'country-flag';\n\n  function handleChange(e: React.MouseEvent<HTMLElement, MouseEvent>) {\n    const target = getEventTarget(e, 'BUTTON') as HTMLButtonElement;\n    const input = target.querySelector('input');\n\n    const country: Country | undefined = countryList.find((c) => input && c.id === input.value);\n    if (country && onChange) {\n      onChange(country);\n    }\n  }\n\n  const CodeInput: FC<{ onClick: () => void }> = ({ onClick }) => (\n    <div className={className}>\n      <input\n        className=\"form-control\"\n        type=\"text\"\n        id={id}\n        value={(value && value.name) || ''}\n        placeholder=\"Country\"\n        readOnly\n        onClick={onClick}\n        onFocus={onClick}\n      />\n      <label>Country</label>\n    </div>\n  );\n\n  return (\n    <DropdownMenu\n      className=\"CountryCodeInput\"\n      trigger={CodeInput}\n    >\n      {countryList.map((country) => (\n        <DropdownMenuItem\n          key={country.id}\n          className={value && country.id === value.id ? 'selected' : ''}\n          onClick={handleChange}\n        >\n          <input type=\"hidden\" value={country.id} />\n          <span className={`${baseFlagClass} ${country.id.toLowerCase()}`}>{country.flag}</span>\n          <span className=\"country-name\">{country.name}</span>\n          <span className=\"country-code\">{country.code}</span>\n        </DropdownMenuItem>\n      ))}\n    </DropdownMenu>\n  );\n};\n\nexport default CountryCodeInput;\n","import { ChangeEvent } from 'react';\nimport React, { FC } from '../../lib/teact';\n\ninterface IProps {\n  id?: string;\n  label: string;\n  checked: boolean;\n  onChange: (e: ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst Checkbox: FC<IProps> = ({\n  id,\n  label,\n  checked,\n  onChange,\n}) => {\n  return (\n    <label className=\"checkbox-input\">\n      <input\n        type=\"checkbox\"\n        id={id}\n        checked={checked}\n        onChange={onChange}\n      />\n      <span>{label}</span>\n    </label>\n  );\n};\n\nexport default Checkbox;\n","import { ChangeEvent } from 'react';\nimport React, { FC, useState } from '../../../lib/teact';\nimport { withGlobal } from '../../../lib/teactn';\n\nimport { GlobalState, GlobalActions } from '../../../store/types';\nimport countryList from '../../../../public/countries.json';\nimport formatPhoneNumber from '../../../util/formatPhoneNumber';\n\nimport Button from '../../../components/ui/Button';\nimport InputText from '../../../components/ui/InputText';\nimport CountryCodeInput from '../../../components/ui/CountryCodeInput';\nimport Checkbox from '../../../components/ui/Checkbox';\n\nimport './Auth.scss';\n\ntype IProps = (\n  Pick<GlobalState, 'authIsLoading' | 'authError' | 'authRememberMe'> &\n  Pick<GlobalActions, 'setAuthPhoneNumber' | 'setAuthRememberMe'>\n);\n\nconst AuthPhoneNumber: FC<IProps> = ({\n  authIsLoading, authError, authRememberMe, setAuthPhoneNumber, setAuthRememberMe,\n}) => {\n  const currentCountry = countryList.find((c) => c.id === 'RU');\n\n  const [isButtonShown, setIsButtonShown] = useState(false);\n  const [country, setCountry] = useState(currentCountry);\n  const [code, setCode] = useState(currentCountry ? currentCountry.code : undefined);\n  const [phone, setPhone] = useState('');\n\n  function onCodeChange(newCountry: Country) {\n    setCode(newCountry.code);\n    setCountry(newCountry);\n  }\n\n  function onPhoneNumberChange(e: ChangeEvent<HTMLInputElement>) {\n    const { target } = e;\n\n    const phoneNumber = formatPhoneNumber(target.value, country);\n\n    setPhone(phoneNumber);\n    target.value = `${code} ${phoneNumber}`;\n    setIsButtonShown(target.value.replace(/[^\\d]+/g, '').length >= 11);\n  }\n\n  function onKeepSessionChange(e: ChangeEvent<HTMLInputElement>) {\n    const { target } = e;\n    setAuthRememberMe(target.checked);\n  }\n\n  function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n    if (authIsLoading) {\n      return;\n    }\n\n    const phoneNumber = `${code} ${phone}`;\n    setAuthPhoneNumber({ phoneNumber });\n  }\n\n  return (\n    <div id=\"auth-phone-number-form\" className=\"auth-form\">\n      <div id=\"logo\" />\n      <h2>Sign in to Telegram</h2>\n      <p className=\"note\">\n        Please confirm your country and\n        <br />enter your phone number.\n      </p>\n      <form action=\"\" method=\"post\" onSubmit={handleSubmit}>\n        <CountryCodeInput\n          id=\"sign-in-phone-code\"\n          value={country}\n          onChange={onCodeChange}\n        />\n        <InputText\n          id=\"sign-in-phone-number\"\n          label=\"Phone Number\"\n          onChange={onPhoneNumberChange}\n          value={`${code} ${phone}`}\n          error={authError}\n        />\n        <Checkbox\n          id=\"sign-in-keep-session\"\n          label=\"Keep me signed in\"\n          checked={Boolean(authRememberMe)}\n          onChange={onKeepSessionChange}\n        />\n        {isButtonShown && (\n          <Button type=\"submit\" isLoading={authIsLoading}>Next</Button>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default withGlobal(\n  (global) => {\n    const { authIsLoading, authError, authRememberMe } = global;\n    return { authIsLoading, authError, authRememberMe };\n  },\n  (setGlobal, actions) => {\n    const { setAuthPhoneNumber, setAuthRememberMe } = actions;\n    return { setAuthPhoneNumber, setAuthRememberMe };\n  },\n)(AuthPhoneNumber);\n","import { ChangeEvent } from 'react';\nimport React, { FC, useState } from '../../../lib/teact';\nimport { withGlobal } from '../../../lib/teactn';\n\nimport { GlobalState, GlobalActions } from '../../../store/types';\nimport InputText from '../../../components/ui/InputText';\n\nimport './Auth.scss';\n\ntype IProps = Pick<GlobalState, 'authPhoneNumber' | 'authError'> &\nPick<GlobalActions, 'setAuthCode' | 'returnToAuthPhoneNumber'>;\nconst AuthCode: FC<IProps> = ({\n  authPhoneNumber, authError, setAuthCode, returnToAuthPhoneNumber,\n}) => {\n  const [code, setCode] = useState(undefined);\n\n  function onCodeChange(e: ChangeEvent<HTMLInputElement>) {\n    const { target } = e;\n\n    target.value = target.value.replace(/[^\\d]+/, '').substr(0, 5);\n\n    setCode(target.value);\n    if (target.value.length === 5) {\n      setAuthCode({ code: target.value });\n    }\n  }\n\n  return (\n    <div id=\"auth-code-form\" className=\"auth-form\">\n      <div id=\"monkey\" className={`code${authError ? ' invalid' : ''}`} />\n      <h2>\n        {authPhoneNumber}\n        <div\n          className=\"auth-number-edit\"\n          onClick={() => returnToAuthPhoneNumber()}\n          role=\"button\"\n          tabIndex={0}\n          title=\"Sign In with another phone number\"\n        >\n          <i className=\"icon-edit\" />\n        </div>\n      </h2>\n      <p className=\"note\">\n        We have sent you an SMS\n        <br />with the code.\n      </p>\n      <InputText\n        id=\"sign-in-code\"\n        label=\"Code\"\n        onChange={onCodeChange}\n        value={code}\n        error={authError}\n      />\n    </div>\n  );\n};\n\nexport default withGlobal(\n  global => {\n    const { authPhoneNumber, authError } = global;\n    return { authPhoneNumber, authError };\n  },\n  (setGlobal, actions) => {\n    const { setAuthCode, returnToAuthPhoneNumber } = actions;\n    return { setAuthCode, returnToAuthPhoneNumber };\n  },\n)(AuthCode);\n","import { ChangeEvent } from 'react';\nimport React, { FC, useState } from '../../../lib/teact';\nimport { withGlobal } from '../../../lib/teactn';\n\nimport { GlobalState, GlobalActions } from '../../../store/types';\nimport Button from '../../../components/ui/Button';\nimport InputText from '../../../components/ui/InputText';\n\nimport './Auth.scss';\n\ntype IProps = Pick<GlobalState, 'authIsLoading' | 'authError'> & Pick<GlobalActions, 'signUp'>;\n\nconst AuthRegister: FC<IProps> = ({ authIsLoading, authError, signUp }) => {\n  const [isButtonShown, setIsButtonShown] = useState(false);\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [avatar, setAvatar] = useState(undefined);\n\n  function onFirstNameChange(event: ChangeEvent<HTMLInputElement>) {\n    const { target } = event;\n\n    setFirstName(target.value);\n    setIsButtonShown(target.value.length > 0);\n  }\n\n  function onLastNameChange(event: ChangeEvent<HTMLInputElement>) {\n    const { target } = event;\n\n    setLastName(target.value);\n  }\n\n  function openFileSelector() {\n    const fileInput = document.getElementById('registration-avatar');\n    if (fileInput) {\n      fileInput.click();\n    }\n  }\n\n  function onAvatarChange(event: ChangeEvent<HTMLInputElement>) {\n    const target = event.target as HTMLInputElement;\n\n    if (!target || !target.files) {\n      return;\n    }\n\n    const imgFile = target.files[0];\n    const imgExt = imgFile.name.split('.').pop();\n    const allowedExtensions = ['jpg', 'jpeg', 'png'];\n    if (\n      !imgExt\n      || !allowedExtensions.includes(imgExt)\n      || !imgFile.type.startsWith('image/')\n    ) {\n      return;\n    }\n\n    setAvatar(imgFile);\n    const previousImg = document.querySelector('#avatar img');\n    if (previousImg) {\n      previousImg.remove();\n    }\n    const img = document.createElement('img');\n    const avatarContainer = document.querySelector('#avatar');\n    if (!avatarContainer) {\n      return;\n    }\n    avatarContainer.appendChild(img);\n\n    const reader = new FileReader();\n    reader.onload = ((aImg) => (e: ProgressEvent<FileReader>) => {\n      const { target: eTarget } = e;\n      if (!eTarget || typeof eTarget.result !== 'string') {\n        return;\n      }\n      aImg.src = eTarget.result;\n    })(img);\n    reader.readAsDataURL(imgFile);\n  }\n\n  function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n    signUp({ firstName, lastName });\n  }\n\n  return (\n    <div id=\"auth-registration-form\" className=\"auth-form\">\n      <form action=\"\" method=\"post\" onSubmit={handleSubmit}>\n        <div\n          id=\"avatar\"\n          onClick={openFileSelector}\n          className={avatar ? 'filled' : ''}\n          role=\"button\"\n          tabIndex={0}\n          title=\"Change your profile picture\"\n        >\n          <input type=\"file\" id=\"registration-avatar\" onChange={onAvatarChange} accept=\"image/png, image/jpeg\" />\n          <i className=\"icon-camera-add\" />\n        </div>\n        <h2>Your Name</h2>\n        <p className=\"note\">\n          Enter your name and add\n          <br />a profile picture.\n        </p>\n        <InputText\n          id=\"registration-first-name\"\n          label=\"Name\"\n          onChange={onFirstNameChange}\n          value={firstName}\n        />\n        <InputText\n          id=\"registration-last-name\"\n          label=\"Last Name (optional)\"\n          onChange={onLastNameChange}\n          value={lastName}\n          error={authError}\n        />\n        {isButtonShown && (\n          <Button type=\"submit\" isLoading={authIsLoading}>Start Messaging</Button>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default withGlobal(\n  (global) => {\n    const { authIsLoading, authError } = global;\n    return { authIsLoading, authError };\n  },\n  (setGlobal, actions) => {\n    const { signUp } = actions;\n    return { signUp };\n  },\n)(AuthRegister);\n","import { ChangeEvent } from 'react';\nimport React, { FC } from '../../lib/teact';\n\ninterface IProps {\n  id?: string;\n  value?: string;\n  error?: string;\n  showPassword?: boolean;\n  onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\n  onKeyPress?: (e: React.KeyboardEvent<HTMLInputElement>) => void;\n  onShowToggle?: () => void;\n}\n\nconst InputText: FC<IProps> = ({\n  id,\n  value,\n  error,\n  showPassword,\n  onChange,\n  onKeyPress,\n  onShowToggle,\n}) => {\n  let className = 'input-group password-input';\n  if (value) {\n    className += ' touched';\n  }\n  if (error) {\n    className += ' error';\n  }\n\n  return (\n    <div className={className}>\n      <input\n        className=\"form-control\"\n        type={showPassword ? 'text' : 'password'}\n        id={id}\n        value={value || ''}\n        onChange={onChange}\n        onKeyPress={onKeyPress}\n        placeholder=\"Password\"\n      />\n      <label>{error || 'Password'}</label>\n      <div\n        className=\"toggle-password\"\n        onClick={onShowToggle}\n        role=\"button\"\n        tabIndex={0}\n        title=\"Toggle password visibility\"\n      >\n        {showPassword ? (\n          <i className=\"icon-eye\" />\n        ) : (\n          <i className=\"icon-eye-closed\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default InputText;\n","import { ChangeEvent } from 'react';\nimport React, { FC, useState } from '../../../lib/teact';\nimport { withGlobal } from '../../../lib/teactn';\n\nimport { GlobalState, GlobalActions } from '../../../store/types';\nimport InputPassword from '../../../components/ui/InputPassword';\nimport Button from '../../../components/ui/Button';\n\nimport './Auth.scss';\n\ntype IProps = Pick<GlobalState, 'authIsLoading' | 'authError'> & Pick<GlobalActions, 'setAuthPassword'>;\n\n// TODO Support `authError`.\nconst AuthPassword: FC<IProps> = ({ authIsLoading, authError, setAuthPassword }) => {\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [isButtonShown, setIsButtonShown] = useState(false);\n\n  function onPasswordChange(e: ChangeEvent<HTMLInputElement>) {\n    const { target } = e;\n    setPassword(target.value);\n    setIsButtonShown(target.value.length > 4);\n  }\n\n  function togglePasswordVisibility() {\n    setShowPassword(!showPassword);\n  }\n\n  function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n    if (authIsLoading) {\n      return;\n    }\n\n    setAuthPassword({ password });\n  }\n\n  return (\n    <div id=\"auth-code-form\" className=\"auth-form\">\n      <div id=\"monkey\" className={`password${showPassword ? ' shown' : ''}`} />\n      <h2>Enter a Password</h2>\n      <p className=\"note\">\n        Your account is protected with\n        <br />an additional password.\n      </p>\n      <form action=\"\" method=\"post\" onSubmit={handleSubmit}>\n        <InputPassword\n          id=\"sign-in-password\"\n          showPassword={showPassword}\n          onChange={onPasswordChange}\n          onShowToggle={togglePasswordVisibility}\n          value={password}\n          error={authError}\n        />\n        {isButtonShown && (\n          <Button type=\"submit\" isLoading={authIsLoading}>Next</Button>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default withGlobal(\n  (global) => {\n    const { authIsLoading, authError } = global;\n    return { authIsLoading, authError };\n  },\n  (setGlobal, actions) => {\n    const { setAuthPassword } = actions;\n    return { setAuthPassword };\n  },\n)(AuthPassword);\n","import React, { FC } from '../../lib/teact';\nimport { withGlobal } from '../../lib/teactn';\n\nimport { GlobalState } from '../../store/types';\nimport AuthPhoneNumber from './components/AuthPhoneNumber';\nimport AuthCode from './components/AuthCode';\nimport AuthRegister from './components/AuthRegister';\nimport AuthPassword from './components/AuthPassword';\n\ntype IProps = Pick<GlobalState, 'authState'>;\n\nconst Auth: FC<IProps> = ({ authState }) => {\n  switch (authState) {\n    case 'authorizationStateWaitCode':\n      return <AuthCode />;\n    case 'authorizationStateWaitPassword':\n      return <AuthPassword />;\n    case 'authorizationStateWaitRegistration':\n      return <AuthRegister />;\n    case 'authorizationStateWaitPhoneNumber':\n    default:\n      return <AuthPhoneNumber />;\n  }\n};\n\nexport default withGlobal(\n  global => {\n    const { authState } = global;\n    return { authState };\n  },\n)(Auth);\n","const WEEKDAYS_SHORT = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst WEEKDAYS_FULL = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst MONTHS = [\n  'January', 'February', 'March', 'April', 'May', 'June',\n  'July', 'August', 'September', 'October', 'November', 'December',\n];\n\nexport function formatTime(datetime: number | Date) {\n  const date = typeof datetime === 'number' ? new Date(datetime) : datetime;\n  const hours = padStart(String(date.getHours()), 2, '0');\n  const minutes = padStart(String(date.getMinutes()), 2, '0');\n\n  return `${hours}:${minutes}`;\n}\n\nexport function formatDate(datetime: number | Date, isShort = false) {\n  const date = typeof datetime === 'number' ? new Date(datetime) : datetime;\n  const day = date.getDate();\n  const month = padStart(String(date.getMonth() + 1), 2, '0');\n  const year = String(date.getFullYear()).slice(0, isShort ? 2 : 4);\n\n  return `${day}.${month}.${year}`;\n}\n\nexport function formatDateForMessageList(datetime: number | Date) {\n  const date = typeof datetime === 'number' ? new Date(datetime) : datetime;\n  const day = date.getDate();\n  const month = MONTHS[date.getMonth()];\n  const currentYear = new Date().getFullYear();\n  const year = date.getFullYear();\n\n  return `${month} ${day}${year < currentYear ? ` ${year}` : ''}`;\n}\n\nfunction padStart(str: string, targetLength: number, padString: string) {\n  while (str.length < targetLength) {\n    str = padString + str;\n  }\n\n  return str;\n}\n\nexport function formatPastTimeShort(datetime: number | Date) {\n  const date = typeof datetime === 'number' ? new Date(datetime) : datetime;\n\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  if (date > today) {\n    return formatTime(date);\n  }\n\n  const now = new Date();\n  const weekAgo = new Date();\n  weekAgo.setDate(now.getDate() - 7);\n  today.setHours(0, 0, 0, 0);\n  if (date > weekAgo) {\n    return WEEKDAYS_SHORT[date.getDay()];\n  }\n\n  return formatDate(date, true);\n}\n\nexport function formatChatDateHeader(datetime: number | Date) {\n  const date = typeof datetime === 'number' ? new Date(datetime) : datetime;\n\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  if (date > today) {\n    return 'Today';\n  }\n\n  const yesterday = new Date();\n  yesterday.setDate(today.getDate() - 1);\n  yesterday.setHours(today.getHours());\n  if (date > yesterday) {\n    return 'Yesterday';\n  }\n\n  const now = new Date();\n  const weekAgo = new Date();\n  weekAgo.setDate(now.getDate() - 7);\n  today.setHours(0, 0, 0, 0);\n  if (date > weekAgo) {\n    return WEEKDAYS_FULL[date.getDay()];\n  }\n\n  return formatDateForMessageList(date);\n}\n\nexport function formatPastTime(datetime: number | Date) {\n  const date = typeof datetime === 'number' ? new Date(datetime) : datetime;\n\n  const now = new Date();\n\n  if (date >= now) {\n    return 'just now';\n  }\n\n  const diff = new Date(now.getTime() - date.getTime());\n\n  // within a minute\n  if (diff.getTime() / 1000 < 60) {\n    return 'just now';\n  }\n\n  // within an hour\n  if (diff.getTime() / 1000 < 60 * 60) {\n    const minutes = Math.floor(diff.getTime() / 1000 / 60);\n    return `${minutes === 1 ? '1 minute' : `${minutes} minutes`} ago`;\n  }\n\n  // today\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  if (date > today) {\n    // up to 6 hours ago\n    if (diff.getTime() / 1000 < 6 * 60 * 60) {\n      const hours = Math.floor(diff.getTime() / 1000 / 60 / 60);\n      return `${hours === 1 ? '1 hour' : `${hours} hours`} ago`;\n    }\n\n    // other\n    return `today at ${formatTime(date)}`;\n  }\n\n  // yesterday\n  const yesterday = new Date();\n  yesterday.setDate(now.getDate() - 1);\n  today.setHours(0, 0, 0, 0);\n  if (date > yesterday) {\n    return `yesterday at ${formatTime(date)}`;\n  }\n\n  return `${formatDate(date)}`;\n}\n\nexport function isSameDay(datetime1: number | Date, datetime2: number | Date) {\n  const date1 = typeof datetime1 === 'number' ? new Date(datetime1) : datetime1;\n  const date2 = typeof datetime2 === 'number' ? new Date(datetime2) : datetime2;\n\n  date1.setHours(0, 0, 0, 0);\n  date2.setHours(0, 0, 0, 0);\n\n  return date1.valueOf() === date2.valueOf();\n}\n","import { ApiUser } from '../../api/tdlib/types/index';\nimport { formatDate, formatTime } from '../../util/dateFormat';\n\nconst SERVICE_NOTIFICATIONS_USER_ID = 777000;\n\nexport function getUserFirstName(user?: ApiUser) {\n  if (!user) {\n    return null;\n  }\n\n  switch (user.type['@type']) {\n    case 'userTypeBot':\n    case 'userTypeRegular': {\n      return user.first_name;\n    }\n\n    case 'userTypeDeleted':\n    case 'userTypeUnknown': {\n      return 'Deleted';\n    }\n  }\n\n  return null;\n}\n\nexport function getUserFullName(user: ApiUser) {\n  switch (user.type['@type']) {\n    case 'userTypeBot':\n    case 'userTypeRegular': {\n      if (user.first_name && user.last_name) {\n        return `${user.first_name} ${user.last_name}`;\n      }\n\n      if (user.first_name) {\n        return user.first_name;\n      }\n\n      if (user.last_name) {\n        return user.last_name;\n      }\n\n      break;\n    }\n\n    case 'userTypeDeleted':\n    case 'userTypeUnknown': {\n      return 'Deleted account';\n    }\n  }\n\n  return null;\n}\n\nexport function getUserStatus(user: ApiUser) {\n  if (user.id === SERVICE_NOTIFICATIONS_USER_ID) {\n    return 'service notifications';\n  }\n\n  if (user.type && user.type['@type'] === 'userTypeBot') {\n    return 'bot';\n  }\n\n  if (!user.status) {\n    return '';\n  }\n\n  switch (user.status['@type']) {\n    case 'userStatusEmpty': {\n      return 'last seen a long time ago';\n    }\n\n    case 'userStatusLastMonth': {\n      return 'last seen within a month';\n    }\n\n    case 'userStatusLastWeek': {\n      return 'last seen within a week';\n    }\n\n    case 'userStatusOffline': {\n      const { was_online } = user.status;\n\n      if (!was_online) return 'offline';\n\n      const now = new Date();\n      const wasOnline = new Date(was_online * 1000);\n\n      if (wasOnline >= now) {\n        return 'last seen just now';\n      }\n\n      const diff = new Date(now.getTime() - wasOnline.getTime());\n\n      // within a minute\n      if (diff.getTime() / 1000 < 60) {\n        return 'last seen just now';\n      }\n\n      // within an hour\n      if (diff.getTime() / 1000 < 60 * 60) {\n        const minutes = Math.floor(diff.getTime() / 1000 / 60);\n        return `last seen ${minutes === 1 ? '1 minute' : `${minutes} minutes`} ago`;\n      }\n\n      // today\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n      if (wasOnline > today) {\n        // up to 6 hours ago\n        if (diff.getTime() / 1000 < 6 * 60 * 60) {\n          const hours = Math.floor(diff.getTime() / 1000 / 60 / 60);\n          return `last seen ${hours === 1 ? '1 hour' : `${hours} hours`} ago`;\n        }\n\n        // other\n        return `last seen today at ${formatTime(wasOnline)}`;\n      }\n\n      // yesterday\n      const yesterday = new Date();\n      yesterday.setDate(now.getDate() - 1);\n      today.setHours(0, 0, 0, 0);\n      if (wasOnline > yesterday) {\n        return `last seen yesterday at ${formatTime(wasOnline)}`;\n      }\n\n      return `last seen ${formatDate(wasOnline)}`;\n    }\n\n    case 'userStatusOnline': {\n      return 'online';\n    }\n\n    case 'userStatusRecently': {\n      return 'last seen recently';\n    }\n  }\n\n  return null;\n}\n\nexport function isUserOnline(user: ApiUser) {\n  const { id, status, type } = user;\n\n  if (!status) {\n    return false;\n  }\n\n  if (id === SERVICE_NOTIFICATIONS_USER_ID) {\n    return false;\n  }\n\n  return status['@type'] === 'userStatusOnline' && type['@type'] !== 'userTypeBot';\n}\n\nexport function getUserPhotoId(user: ApiUser): number | null {\n  const { profile_photo } = user;\n\n  if (!profile_photo) {\n    return null;\n  }\n\n  return profile_photo.small.id;\n}\n","import { ApiChat, ApiPrivateChat } from '../../api/tdlib/types/index';\n\nexport function isPrivateChat(chatId: number) {\n  return chatId > 0;\n}\n\nexport function isGroupChat(chatId: number) {\n  return !isPrivateChat(chatId);\n}\n\nexport function isSuperGroupChat(chatId: number) {\n  return chatId < -1000000000;\n}\n\nexport function getPrivateChatUserId(chat: ApiPrivateChat) {\n  return chat.type.user_id;\n}\n\nexport function getChatTitle(chat: ApiChat) {\n  return chat.title || 'Deleted account';\n}\n\nexport function getChatPhotoId(chat: ApiChat): number | null {\n  const { photo, photo_locations } = chat;\n\n  if (photo) {\n    return photo.small.id;\n  } else if (photo_locations) {\n    return chat.id;\n  }\n\n  return null;\n}\n","import { ApiMessage, ApiPhoto } from '../../api/tdlib/types/index';\n\nexport function getLastMessageText(message: ApiMessage) {\n  const {\n    text,\n    photo,\n    sticker,\n    caption,\n  } = message.content;\n\n  if (text) {\n    return text.text;\n  }\n\n  if (photo) {\n    if (caption && caption.text.length) {\n      return `(Photo) ${caption.text}`;\n    }\n    return 'Photo';\n  }\n\n  if (sticker) {\n    return `Sticker ${sticker.emoji}`;\n  }\n\n  return '%MEDIA_CONTENT%';\n}\n\nexport function getMessageText(message: ApiMessage) {\n  const {\n    text,\n    photo,\n    sticker,\n    caption,\n  } = message.content;\n  if (text) {\n    return text.text;\n  }\n\n  if (photo && caption) {\n    return caption.text;\n  }\n\n  if (sticker) {\n    return undefined;\n  }\n\n  return '%MEDIA_CONTENT%';\n}\n\nexport function getMessagePhoto(message: ApiMessage) {\n  if (!message.content.photo) {\n    return undefined;\n  }\n\n  return message.content.photo;\n}\n\nexport function getMessageSticker(message: ApiMessage) {\n  return message.content.sticker;\n}\n\nexport function getPhotoUrl(photo: ApiPhoto) {\n  const mediumSize = photo.sizes.find((size) => size.type === 'm');\n  if (!mediumSize || !mediumSize.photo.local.is_downloading_completed) {\n    return undefined;\n  }\n\n  return mediumSize.photo.local.path;\n}\n\nexport function isOwnMessage(message: ApiMessage) {\n  return message.is_outgoing;\n}\n\nexport function getSendingState(message: ApiMessage) {\n  if (!message.sending_state) {\n    return 'succeeded';\n  }\n\n  return message.sending_state['@type'] === 'messageSendingStateFailed' ? 'failed' : 'pending';\n}\n","export * from './users';\nexport * from './chats';\nexport * from './messages';\n","import { ApiUser } from '../../api/tdlib/types';\nimport { GlobalState } from '../../store/types';\nimport { getUserPhotoId } from '../helpers';\n\nexport function selectUser(global: GlobalState, userId: number) {\n  return global.users.byId[userId];\n}\n\nexport function selectUserPhotoUrl(global: GlobalState, user: ApiUser) {\n  const fileId = getUserPhotoId(user);\n\n  if (!fileId) {\n    return null;\n  }\n\n  const file = global.files.byId[fileId];\n\n  if (!file || !file.blobUrl) {\n    return null;\n  }\n\n  return file && file.blobUrl ? file.blobUrl : null;\n}\n","import { ApiChat } from '../../api/tdlib/types';\nimport { GlobalState } from '../../store/types';\nimport { getChatPhotoId } from '../helpers';\n\nexport function selectChat(global: GlobalState, chatId: number) {\n  return global.chats.byId[chatId];\n}\n\nexport function selectChatScrollOffset(global: GlobalState, chatId: number) {\n  return global.chats.scrollOffsetById[chatId];\n}\n\nexport function selectChatPhotoUrl(global: GlobalState, chat: ApiChat) {\n  const fileId = getChatPhotoId(chat);\n\n  if (!fileId) {\n    return null;\n  }\n\n  const file = global.files.byId[fileId];\n\n  if (!file || !file.blobUrl) {\n    return null;\n  }\n\n  return file && file.blobUrl ? file.blobUrl : null;\n}\n","import { GlobalState } from '../../store/types';\nimport { ApiMessage } from '../../api/tdlib/types';\nimport { selectChat } from './chats';\nimport { getSendingState } from '../helpers';\n\nexport function selectChatMessages(global: GlobalState, chatId: number) {\n  const byChatId = global.messages.byChatId[chatId];\n\n  return byChatId ? byChatId.byId : null;\n}\n\nexport function selectChatMessage(global: GlobalState, chatId: number, messageId: number) {\n  const chatMessages = selectChatMessages(global, chatId);\n\n  return chatMessages ? chatMessages[messageId] : null;\n}\n\nexport function selectIsUnread(global: GlobalState, message: ApiMessage) {\n  const chat = selectChat(global, message.chat_id);\n\n  return chat.last_read_outbox_message_id < message.id;\n}\n\nexport function selectOutgoingStatus(global: GlobalState, message: ApiMessage) {\n  if (!selectIsUnread(global, message)) {\n    return 'read';\n  }\n\n  return getSendingState(message);\n}\n","export * from './users';\nexport * from './chats';\nexport * from './messages';\n\n// TODO Add `reselect` to all selectors.\n","import React, { FC } from '../lib/teact';\nimport { withGlobal } from '../lib/teactn';\n\nimport { ApiUser, ApiChat } from '../api/tdlib/types';\nimport {\n  getChatTitle, getUserFullName, isPrivateChat, isUserOnline,\n} from '../modules/helpers';\nimport { selectChatPhotoUrl, selectUserPhotoUrl } from '../modules/selectors';\n\nimport './Avatar.scss';\n\ninterface IProps {\n  size?: 'small' | 'medium' | 'large';\n  chat?: ApiChat;\n  user?: ApiUser;\n  imageUrl?: string;\n}\n\nconst Avatar: FC<IProps> = ({\n  size = 'large', chat, user, imageUrl,\n}) => {\n  let content: string | null = '';\n  const isOnline = user && isUserOnline(user);\n\n  if (imageUrl) {\n    content = (\n      <img src={imageUrl} alt=\"\" />\n    );\n  } else if (user) {\n    const userName = getUserFullName(user);\n    content = userName ? getFirstLetters(userName).slice(0, 2) : null;\n  } else if (chat) {\n    const title = getChatTitle(chat);\n    content = title && getFirstLetters(title).slice(0, isPrivateChat(chat.id) ? 2 : 1);\n  }\n\n  return (\n    <div className={`Avatar size-${size} ${isOnline ? 'online' : ''}`}>\n      {content}\n    </div>\n  );\n};\n\nfunction getFirstLetters(phrase: string) {\n  return phrase\n    .replace(/[^\\w-\\s]+/gi, '')\n    .trim()\n    .split(/\\s+/)\n    .map((word: string) => word.length && word[0])\n    .join('')\n    .toUpperCase();\n}\n\nexport default withGlobal(\n  (global, { chat, user }) => {\n    let imageUrl = null;\n\n    if (chat) {\n      imageUrl = selectChatPhotoUrl(global, chat);\n    } else if (user) {\n      imageUrl = selectUserPhotoUrl(global, user);\n    }\n\n    return { imageUrl };\n  },\n)(Avatar);\n","import React, { FC } from '../lib/teact';\nimport { withGlobal } from '../lib/teactn';\nimport { GlobalState } from '../store/types';\n\nimport { ApiMessage } from '../api/tdlib/types';\nimport { selectOutgoingStatus } from '../modules/selectors';\n\ntype IProps = {\n  message: ApiMessage;\n  outgoingStatus: ReturnType<typeof selectOutgoingStatus>;\n};\n\nconst MessageOutgoingStatus: FC<IProps> = ({ message, outgoingStatus }) => {\n  return (\n    <span className=\"MessageOutgoingStatus\">{renderOutgoingStatus(message, outgoingStatus)}</span>\n  );\n};\n\nfunction renderOutgoingStatus(message: ApiMessage, outgoingStatus: ReturnType<typeof selectOutgoingStatus>) {\n  switch (outgoingStatus) {\n    case 'read':\n      return <i className=\"icon-message-read\" />;\n    case 'pending':\n      return <i className=\"icon-message-sending\" />;\n    case 'succeeded':\n      return <i className=\"icon-message-delivered\" />;\n    case 'failed':\n      return <i className=\"icon-message-sending-error\" />;\n  }\n\n  return null;\n}\n\nexport default withGlobal(\n  (global: GlobalState, { message }: IProps) => {\n    return {\n      outgoingStatus: selectOutgoingStatus(global, message),\n    };\n  },\n)(MessageOutgoingStatus);\n","import React, { FC } from '../../../../lib/teact';\n\nimport { ApiMessage } from '../../../../api/tdlib/types';\nimport { formatPastTimeShort } from '../../../../util/dateFormat';\nimport MessageOutgoingStatus from '../../../../components/MessageOutgoingStatus';\nimport './LastMessageMeta.scss';\n\ntype IProps = {\n  message: ApiMessage;\n};\n\nconst LastMessageMeta: FC<IProps> = ({ message }) => {\n  return (\n    <div className=\"LastMessageMeta\">\n      {message.is_outgoing && (\n        <MessageOutgoingStatus message={message} />\n      )}\n      <span className=\"time\">{formatPastTimeShort(message.date * 1000)}</span>\n    </div>\n  );\n};\n\nexport default LastMessageMeta;\n","import React, { FC } from '../../../../lib/teact';\n\nimport { ApiChat } from '../../../../api/tdlib/types';\nimport './Badge.scss';\n\ntype IProps = {\n  chat: ApiChat;\n};\n\n// TODO Support mentions and `is_pinned`.\n\nconst Badge: FC<IProps> = ({ chat }) => {\n  return (\n    chat.unread_count ? (\n      <div className=\"Badge\">\n        {chat.unread_count}\n      </div>\n    ) : (\n      <div />\n    )\n  );\n};\n\nexport default Badge;\n","import React, { FC } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport { GlobalActions } from '../../../../store/types';\nimport { ApiChat, ApiUser } from '../../../../api/tdlib/types';\nimport {\n  getChatTitle,\n  getLastMessageText,\n  getUserFirstName,\n  isPrivateChat,\n  isGroupChat,\n} from '../../../../modules/helpers';\nimport { selectUser } from '../../../../modules/selectors';\nimport Avatar from '../../../../components/Avatar';\nimport LastMessageMeta from './LastMessageMeta';\nimport Badge from './Badge';\nimport './Chat.scss';\n\ntype IProps = {\n  chat: ApiChat;\n  lastMessageSender?: ApiUser;\n  selected: boolean;\n} & Pick<GlobalActions, 'selectChat'>;\n\nconst Chat: FC<IProps> = ({\n  chat,\n  lastMessageSender,\n  selected,\n  selectChat,\n}) => {\n  return (\n    <div className={buildClassNames(chat, selected)} onClick={() => selectChat({ id: chat.id })}>\n      <Avatar chat={chat} />\n      <div className=\"info\">\n        <div className=\"title\">\n          <h3>{getChatTitle(chat)}</h3>\n          {chat.last_message && (\n            <LastMessageMeta message={chat.last_message} />\n          )}\n        </div>\n        <div className=\"subtitle\">\n          {chat.last_message && (\n            <p className=\"last-message\">\n              {isGroupChat(chat.id) && getUserFirstName(lastMessageSender) && (\n                <span className=\"sender-name\">{getUserFirstName(lastMessageSender)}</span>\n              )}\n              {getLastMessageText(chat.last_message)}\n            </p>\n          )}\n          <Badge chat={chat} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nfunction buildClassNames(chat: ApiChat, isSelected: boolean) {\n  const classNames = ['Chat'];\n\n  classNames.push(isPrivateChat(chat.id) ? 'private' : 'group');\n\n  if (isSelected) {\n    classNames.push('selected');\n  }\n\n  return classNames.join(' ');\n}\n\nexport default withGlobal(\n  (global, { chat }: IProps) => {\n    if (!chat || !chat.last_message) {\n      return null;\n    }\n\n    return {\n      lastMessageSender: selectUser(global, chat.last_message.sender_user_id),\n    };\n  },\n  (setGlobal, actions) => {\n    const { selectChat } = actions;\n    return { selectChat };\n  },\n)(Chat);\n","import React, { FC } from '../lib/teact';\n\nimport Spinner from './Spinner';\nimport './Loading.scss';\n\nconst Loading: FC = () => {\n  return (\n    <div className=\"Loading\">\n      <Spinner />\n    </div>\n  );\n};\n\nexport default Loading;\n","import { UIEvent } from 'react';\nimport React, { FC } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport { GlobalState, GlobalActions } from '../../../../store/types';\nimport { ApiChat } from '../../../../api/tdlib/types';\nimport { toArray, orderBy } from '../../../../util/iteratees';\nimport { throttle } from '../../../../util/schedulers';\nimport Chat from './Chat';\nimport Loading from '../../../../components/Loading';\nimport './ChatList.scss';\n\ntype IProps = {\n  chats: Record<number, ApiChat>;\n  loadedChatIds: number[];\n  selectedChatId: number;\n  areChatsLoaded: boolean;\n} & Pick<GlobalState, 'authState'> & Pick<GlobalActions, 'loadChats' | 'loadMoreChats'>;\n\nconst LOAD_MORE_THRESHOLD_PX = 1000;\nconst SCROLL_THROTTLE_MS = 1000;\n\nconst handleScrollThrottled = throttle(handleScroll, SCROLL_THROTTLE_MS, true);\n\nconst ChatList: FC<IProps> = ({\n  chats, loadedChatIds, areChatsLoaded, selectedChatId, authState, loadChats, loadMoreChats,\n}) => {\n  if (authState === 'authorizationStateReady' && !areChatsLoaded) {\n    loadChats();\n  }\n\n  const chatsArray = areChatsLoaded && chats ? prepareChats(chats, loadedChatIds) : undefined;\n\n  return (\n    <div className=\"ChatList custom-scroll\" onScroll={(e) => handleScrollThrottled(e, loadMoreChats)}>{\n      areChatsLoaded && chatsArray ? (\n        <div>\n          {chatsArray.map((chat) => (\n            <Chat key={chat.id} chat={chat} selected={chat.id === selectedChatId} />\n          ))}\n        </div>\n      ) : (\n        <Loading />\n      )\n    }\n    </div>\n  );\n};\n\nfunction handleScroll(e: UIEvent, loadMoreChats: GlobalActions['loadMoreChats']) {\n  const target = e.target as HTMLElement;\n\n  if (target.scrollHeight - (target.scrollTop + target.clientHeight) <= LOAD_MORE_THRESHOLD_PX) {\n    loadMoreChats();\n  }\n}\n\nfunction prepareChats(chats: Record<number, ApiChat>, loadedChatIds: number[]) {\n  const filtered = toArray(chats)\n    .filter((chat) => Boolean(chat.last_message) && loadedChatIds.includes(chat.id));\n\n  return orderBy(filtered, ['is_pinned', (chat) => chat.last_message!.date], ['desc', 'desc']);\n}\n\nexport default withGlobal(\n  global => {\n    const {\n      chats: {\n        ids: loadedChatIds,\n        byId: chats,\n        selectedId: selectedChatId,\n      },\n      authState,\n    } = global;\n\n    return {\n      areChatsLoaded: loadedChatIds.length > 0 && Object.keys(chats).length >= loadedChatIds.length,\n      chats,\n      loadedChatIds,\n      selectedChatId,\n      authState,\n    };\n  },\n  (setGlobal, actions) => {\n    const { loadChats, loadMoreChats } = actions;\n    return { loadChats, loadMoreChats };\n  },\n)(ChatList);\n","import React, { FC } from '../../../../lib/teact';\n\nimport './SearchInput.scss';\n\nconst SearchInput: FC = () => {\n  return (\n    <div className=\"SearchInput not-implemented\">\n      <input\n        type=\"text\"\n        placeholder=\"Search\"\n        className=\"form-control\"\n      />\n      <i className=\"icon-search\" />\n    </div>\n  );\n};\n\nexport default SearchInput;\n","import React, { FC } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport { GlobalActions } from '../../../../store/types';\nimport DropdownMenu from '../../../../components/ui/DropdownMenu';\nimport DropdownMenuItem from '../../../../components/ui/DropdownMenuItem';\nimport Button from '../../../../components/ui/Button';\nimport SearchInput from './SearchInput';\nimport './LeftHeader.scss';\n\ntype IProps = Pick<GlobalActions, 'signOut'>;\n\nfunction onSignOut(signOut: Function) {\n  // eslint-disable-next-line no-restricted-globals, no-alert\n  if (confirm('Are you sure?')) {\n    signOut();\n  }\n}\n\nconst MenuButton: FC<{ onClick: () => void }> = ({ onClick }) => (\n  <Button round size=\"smaller\" color=\"translucent\" onClick={onClick}>\n    <i className=\"icon-menu\" />\n  </Button>\n);\n\nconst LeftHeader: FC<IProps> = ({ signOut }) => {\n  return (\n    <div id=\"LeftHeader\">\n      <DropdownMenu\n        trigger={MenuButton}\n      >\n        <DropdownMenuItem className=\"not-implemented\" icon=\"new-group\">New Group</DropdownMenuItem>\n        <DropdownMenuItem className=\"not-implemented\" icon=\"user\">Contacts</DropdownMenuItem>\n        <DropdownMenuItem className=\"not-implemented\" icon=\"archive\">Archived</DropdownMenuItem>\n        <DropdownMenuItem className=\"not-implemented\" icon=\"saved-messages\">Saved</DropdownMenuItem>\n        <DropdownMenuItem className=\"not-implemented\" icon=\"settings\">Settings</DropdownMenuItem>\n        <DropdownMenuItem className=\"not-implemented\" icon=\"help\">Help</DropdownMenuItem>\n        <DropdownMenuItem icon=\"logout\" onClick={() => onSignOut(signOut)}>Log Out</DropdownMenuItem>\n      </DropdownMenu>\n      <SearchInput />\n    </div>\n  );\n};\n\nexport default withGlobal(\n  undefined,\n  (setGlobal, actions) => {\n    const { signOut } = actions;\n    return { signOut };\n  },\n)(LeftHeader);\n","import React, { FC } from '../../../../lib/teact';\n\nimport ChatList from './ChatList';\nimport LeftHeader from './LeftHeader';\nimport './LeftColumn.scss';\n\nconst LeftColumn: FC = () => {\n  return (\n    <div id=\"LeftColumn\">\n      <LeftHeader />\n      <ChatList />\n    </div>\n  );\n};\n\nexport default LeftColumn;\n","import React, { FC } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport { ApiUser, ApiPrivateChat } from '../../../../api/tdlib/types';\nimport { selectChat, selectUser } from '../../../../modules/selectors';\nimport {\n  getPrivateChatUserId, getUserFullName, getUserStatus, isUserOnline,\n} from '../../../../modules/helpers';\nimport Avatar from '../../../../components/Avatar';\n\ntype IProps = {\n  chatId: number;\n  chat: ApiPrivateChat;\n  user: ApiUser;\n};\n\nconst PrivateChatHeader: FC<IProps> = ({ user }) => {\n  return (\n    <div className=\"DialogHeader\">\n      <Avatar size=\"medium\" user={user} />\n      <div>\n        <div className=\"title\">{getUserFullName(user)}</div>\n        <div className={`status ${isUserOnline(user) ? 'online' : ''}`}>{getUserStatus(user)}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default withGlobal(\n  (global, { chatId }: IProps) => {\n    const chat = selectChat(global, chatId) as ApiPrivateChat;\n    const userId = getPrivateChatUserId(chat);\n    const user = selectUser(global, userId);\n\n    return {\n      chat,\n      user,\n    };\n  },\n)(PrivateChatHeader);\n","import React, { FC } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport { ApiChat } from '../../../../api/tdlib/types';\nimport Avatar from '../../../../components/Avatar';\n\ntype IProps = {\n  chat: ApiChat;\n};\n\nconst GroupHeader: FC<IProps> = ({ chat }) => {\n  return (\n    <div className=\"GroupHeader\">\n      <Avatar size=\"medium\" chat={chat} />\n      <div>\n        <div className=\"title\">{chat.title}</div>\n        <div className=\"status\">Group Chat</div>\n      </div>\n    </div>\n  );\n};\n\nexport default withGlobal(\n  global => {\n    const { selectedId, byId } = global.chats;\n\n    const chat = selectedId && byId[selectedId];\n\n    return {\n      chat,\n    };\n  },\n)(GroupHeader);\n","\"use strict\";\n\nmodule.exports = function () {\n  // https://mths.be/emoji\n  return /\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62(?:\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67|\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73)\\uDB40\\uDC7F|\\uD83D\\uDC68(?:\\uD83C\\uDFFC\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C\\uDFFB|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFE])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFD])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFC])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83D\\uDC68|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D[\\uDC66\\uDC67])|[\\u2695\\u2696\\u2708]\\uFE0F|\\uD83D[\\uDC66\\uDC67]|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|(?:\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708])\\uFE0F|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C[\\uDFFB-\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFB\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83E\\uDD1D\\u200D\\uD83D\\uDC69)\\uD83C\\uDFFB|\\uD83E\\uDDD1(?:\\uD83C\\uDFFF\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])|\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1)|(?:\\uD83E\\uDDD1\\uD83C\\uDFFE\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB-\\uDFFE])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFC\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83E\\uDD1D\\u200D\\uD83D\\uDC69)(?:\\uD83C[\\uDFFB\\uDFFC])|\\uD83D\\uDC69(?:\\uD83C\\uDFFE\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFC-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|(?:\\uD83E\\uDDD1\\uD83C\\uDFFD\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83E\\uDD1D\\u200D\\uD83D\\uDC69)(?:\\uD83C[\\uDFFB-\\uDFFD])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8|\\uD83D\\uDC69(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|(?:(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)\\uFE0F|\\uD83D\\uDC6F|\\uD83E[\\uDD3C\\uDDDE\\uDDDF])\\u200D[\\u2640\\u2642]|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD6-\\uDDDD])(?:(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]|\\u200D[\\u2640\\u2642])|\\uD83C\\uDFF4\\u200D\\u2620)\\uFE0F|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08|\\uD83D\\uDC15\\u200D\\uD83E\\uDDBA|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83C\\uDDF6\\uD83C\\uDDE6|[#\\*0-9]\\uFE0F\\u20E3|\\uD83C\\uDDE7(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDF9(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF])|\\uD83C\\uDDEA(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA])|\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83C\\uDDF7(?:\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC])|\\uD83D\\uDC69(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83C\\uDDF2(?:\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF])|\\uD83C\\uDDE6(?:\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF])|\\uD83C\\uDDF0(?:\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDED(?:\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA])|\\uD83C\\uDDE9(?:\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF])|\\uD83C\\uDDFE(?:\\uD83C[\\uDDEA\\uDDF9])|\\uD83C\\uDDEC(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE])|\\uD83C\\uDDF8(?:\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF])|\\uD83C\\uDDEB(?:\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7])|\\uD83C\\uDDF5(?:\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE])|\\uD83C\\uDDFB(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA])|\\uD83C\\uDDF3(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF])|\\uD83C\\uDDE8(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF])|\\uD83C\\uDDF1(?:\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE])|\\uD83C\\uDDFF(?:\\uD83C[\\uDDE6\\uDDF2\\uDDFC])|\\uD83C\\uDDFC(?:\\uD83C[\\uDDEB\\uDDF8])|\\uD83C\\uDDFA(?:\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF])|\\uD83C\\uDDEE(?:\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9])|\\uD83C\\uDDEF(?:\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5])|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC70\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDCAA\\uDD74\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD36\\uDDB5\\uDDB6\\uDDBB\\uDDD2-\\uDDD5])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDED5\\uDEEB\\uDEEC\\uDEF4-\\uDEFA\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0D-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD71\\uDD73-\\uDD76\\uDD7A-\\uDDA2\\uDDA5-\\uDDAA\\uDDAE-\\uDDCA\\uDDCD-\\uDDFF\\uDE70-\\uDE73\\uDE78-\\uDE7A\\uDE80-\\uDE82\\uDE90-\\uDE95])|(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDED5\\uDEE0-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEFA\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0D-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD71\\uDD73-\\uDD76\\uDD7A-\\uDDA2\\uDDA5-\\uDDAA\\uDDAE-\\uDDCA\\uDDCD-\\uDDFF\\uDE70-\\uDE73\\uDE78-\\uDE7A\\uDE80-\\uDE82\\uDE90-\\uDE95])\\uFE0F|(?:[\\u261D\\u26F9\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2-\\uDFC4\\uDFC7\\uDFCA-\\uDFCC]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66-\\uDC78\\uDC7C\\uDC81-\\uDC83\\uDC85-\\uDC87\\uDC8F\\uDC91\\uDCAA\\uDD74\\uDD75\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE45-\\uDE47\\uDE4B-\\uDE4F\\uDEA3\\uDEB4-\\uDEB6\\uDEC0\\uDECC]|\\uD83E[\\uDD0F\\uDD18-\\uDD1F\\uDD26\\uDD30-\\uDD39\\uDD3C-\\uDD3E\\uDDB5\\uDDB6\\uDDB8\\uDDB9\\uDDBB\\uDDCD-\\uDDCF\\uDDD1-\\uDDDD])/g;\n};\n","// @ts-ignore\nimport emojiRegex from 'emoji-regex';\n\nconst RE_EMOJI = emojiRegex();\nconst RE_EMOJI_ONLY = new RegExp(`^(?:${emojiRegex().source})+$`, '');\n\nexport default (text: string): number | false => {\n  const isEmojiOnly = RE_EMOJI_ONLY.exec(text);\n\n  if (!isEmojiOnly) {\n    return false;\n  }\n\n  let emojiCount = 0;\n  while (RE_EMOJI.exec(text)) {\n    emojiCount++;\n  }\n\n  return emojiCount;\n};\n","import React from '../../../../../lib/teact';\n\nexport type TextPart = string | Element;\n\nexport function enhanceTextParts(text: string, enhancers: ((part: TextPart) => TextPart[])[]) {\n  let parts: TextPart[] = [text];\n\n  for (let i = 0, l = enhancers.length; i < l; i++) {\n    parts = parts.reduce((enhancedParts: TextPart[], part) => {\n      const newParts = enhancers[i](part);\n\n      return [\n        ...enhancedParts,\n        ...newParts,\n      ];\n    }, []);\n  }\n\n  return parts.length === 1 ? parts[0] : parts;\n}\n\nexport function addLineBreaks(part: TextPart): TextPart[] {\n  if (typeof part !== 'string') {\n    return [part];\n  }\n\n  return part\n    .split(/\\r\\n|\\r|\\n/g)\n    .reduce((parts: TextPart[], line: string, i, source) => {\n      parts.push(line);\n\n      if (i !== source.length - 1) {\n        parts.push(<br />);\n      }\n\n      return parts;\n    }, []);\n}\n\nexport function addLinks(part: TextPart): TextPart[] {\n  return replaceWordsWithElements(\n    part,\n    (word) => word.startsWith('http:') || word.startsWith('https:'),\n    (word) => (\n      <a href={word} target=\"_blank\" rel=\"noopener noreferrer\">{word}</a>\n    ),\n  );\n}\n\nexport function addBreaksToLongWords(part: TextPart): TextPart[] {\n  return replaceWordsWithElements(\n    part,\n    (word) => word.length > 50,\n    (word) => (\n      <div className=\"long-word-break-all\">{word}</div>\n    ),\n  );\n}\n\nexport function replaceWordsWithElements(\n  part: TextPart,\n  testFn: (word: string) => boolean,\n  replaceFn: (word: string) => Element,\n): TextPart[] {\n  if (typeof part !== 'string') {\n    return [part];\n  }\n\n  let wasLastTag = false;\n\n  return part\n    .split(' ')\n    .reduce((parts: TextPart[], word: string) => {\n      if (testFn(word)) {\n        if (parts.length > 0 && !wasLastTag) {\n          parts[parts.length - 1] += ' ';\n        }\n        parts.push(replaceFn(word));\n        wasLastTag = true;\n      } else {\n        if (parts.length > 0 && !wasLastTag) {\n          parts[parts.length - 1] += ` ${word}`;\n        } else {\n          parts.push(wasLastTag ? ` ${word}` : word);\n        }\n\n        wasLastTag = false;\n      }\n\n      return parts;\n    }, []);\n}\n","import { isSameDay } from '../../../../../util/dateFormat';\nimport parseEmojiOnlyString from '../../../../../util/parseEmojiOnlyString';\nimport {\n  getMessageText,\n  getMessagePhoto,\n  getMessageSticker,\n} from '../../../../../modules/helpers';\nimport {\n  ApiMessage,\n  ApiPhoto,\n  ApiSticker,\n} from '../../../../../api/tdlib/types';\n\nimport {\n  TextPart,\n  enhanceTextParts,\n  addLineBreaks,\n  addBreaksToLongWords,\n  addLinks,\n} from './enhanceText';\n\nexport type MessageDateGroup = {\n  datetime: number;\n  messageGroups: ApiMessage[][];\n};\n\nexport interface MessageContent {\n  text?: TextPart | TextPart[];\n  photo?: ApiPhoto;\n  sticker?: ApiSticker;\n  className?: string;\n}\n\nconst MAX_EMOJI_COUNT = 3;\n\nexport function groupMessages(messages: ApiMessage[]) {\n  const messageDateGroups: MessageDateGroup[] = [\n    {\n      datetime: messages[0].date * 1000,\n      messageGroups: [],\n    },\n  ];\n  let currentMessageGroup: ApiMessage[] = [];\n  let currentMessageDateGroup = messageDateGroups[0];\n\n  messages.forEach((message, index) => {\n    if (!isSameDay(currentMessageDateGroup.datetime, message.date * 1000)) {\n      if (currentMessageDateGroup && currentMessageGroup && currentMessageGroup.length) {\n        currentMessageDateGroup.messageGroups.push(currentMessageGroup);\n        currentMessageGroup = [];\n      }\n      messageDateGroups.push({\n        datetime: message.date * 1000,\n        messageGroups: [],\n      });\n      currentMessageDateGroup = messageDateGroups[messageDateGroups.length - 1];\n    }\n\n    if (\n      !currentMessageGroup.length || (\n        message.sender_user_id === currentMessageGroup[currentMessageGroup.length - 1].sender_user_id\n        // Forwarded messages to chat with self.\n        && message.is_outgoing === currentMessageGroup[currentMessageGroup.length - 1].is_outgoing\n      )\n    ) {\n      currentMessageGroup.push(message);\n    }\n\n    if (\n      messages[index + 1] && (\n        message.sender_user_id !== messages[index + 1].sender_user_id\n        || message.is_outgoing !== messages[index + 1].is_outgoing\n      )\n    ) {\n      currentMessageDateGroup.messageGroups.push(currentMessageGroup);\n      currentMessageGroup = [];\n    }\n  });\n\n  if (currentMessageGroup.length) {\n    currentMessageDateGroup.messageGroups.push(currentMessageGroup);\n  }\n\n  return messageDateGroups;\n}\n\nexport function buildMessageContent(message: ApiMessage): MessageContent {\n  const text = getMessageText(message);\n  const photo = getMessagePhoto(message);\n  const sticker = getMessageSticker(message);\n  const classNames = ['content'];\n  let contentParts: TextPart | TextPart[] | undefined;\n\n  if (text) {\n    const emojiOnlyCount = parseEmojiOnlyString(text);\n\n    if (!photo && emojiOnlyCount && emojiOnlyCount <= MAX_EMOJI_COUNT) {\n      classNames.push(`sticker emoji-only-${emojiOnlyCount}`);\n      contentParts = text;\n    } else {\n      classNames.push('text');\n      contentParts = enhanceTextParts(text, [addLineBreaks, addBreaksToLongWords, addLinks]);\n    }\n  }\n\n  if (photo) {\n    classNames.push('photo');\n  }\n\n  if (sticker) {\n    classNames.push('sticker');\n  }\n\n  classNames.push('status-read');\n\n  return {\n    text: contentParts,\n    photo,\n    sticker,\n    className: classNames.join(' '),\n  };\n}\n","import React, { FC } from '../../../../lib/teact';\n\nimport { ApiMessage } from '../../../../api/tdlib/types';\nimport { formatTime } from '../../../../util/dateFormat';\nimport MessageOutgoingStatus from '../../../../components/MessageOutgoingStatus';\nimport './MessageMeta.scss';\n\ntype IProps = {\n  message: ApiMessage;\n};\n\nconst MessageMeta: FC<IProps> = ({ message }) => {\n  return (\n    <span className=\"MessageMeta\">\n      <span className=\"message-time\">\n        {formatTime(message.date * 1000)}\n      </span>\n      {message.is_outgoing && (\n        <MessageOutgoingStatus message={message} />\n      )}\n    </span>\n  );\n};\n\n\nexport default MessageMeta;\n","import React, { FC } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport {\n  ApiUser,\n  ApiMessage,\n  ApiPhoto,\n} from '../../../../api/tdlib/types';\nimport { getUserFullName } from '../../../../modules/helpers';\nimport { selectUser } from '../../../../modules/selectors';\n\nimport { buildMessageContent } from './util/messages';\nimport './ReplyMessage.scss';\n\ntype IProps = {\n  message: ApiMessage;\n  sender: ApiUser;\n};\n\nconst ReplyMessage: FC<IProps> = ({\n  message, sender,\n}) => {\n  const {\n    text,\n    photo,\n  } = buildMessageContent(message);\n\n  return (\n    <div className=\"ReplyMessage not-implemented\">\n      {renderMessagePhoto(photo)}\n      <div className=\"reply-text\">\n        <div className=\"sender-name\">{getUserFullName(sender)}</div>\n        <p>{text}</p>\n      </div>\n    </div>\n  );\n};\n\nfunction renderMessagePhoto(photo?: ApiPhoto) {\n  if (!photo) {\n    return null;\n  }\n\n  const thumbnail = photo.minithumbnail;\n  if (!thumbnail) {\n    return null;\n  }\n\n  return (\n    <img src={`data:image/jpeg;base64, ${thumbnail.data}`} alt=\"\" />\n  );\n}\n\nexport default withGlobal(\n  (global, { message }: IProps) => {\n    return {\n      sender: selectUser(global, message.sender_user_id),\n    };\n  },\n)(ReplyMessage);\n","import React, { FC } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport {\n  ApiUser,\n  ApiMessage,\n  ApiPhoto,\n  ApiSticker,\n} from '../../../../api/tdlib/types';\nimport {\n  isOwnMessage,\n  getUserFullName,\n  getPhotoUrl,\n} from '../../../../modules/helpers';\nimport { selectUser, selectChatMessage } from '../../../../modules/selectors';\n\nimport Avatar from '../../../../components/Avatar';\nimport Spinner from '../../../../components/Spinner';\n\nimport { buildMessageContent } from './util/messages';\nimport MessageMeta from './MessageMeta';\nimport ReplyMessage from './ReplyMessage';\nimport './Message.scss';\n\ntype IProps = {\n  message: ApiMessage;\n  replyMessage?: ApiMessage;\n  showAvatar?: boolean;\n  showSenderName?: boolean;\n  sender?: ApiUser;\n};\n\nconst Message: FC<IProps> = ({\n  message, replyMessage, showAvatar, showSenderName, sender,\n}) => {\n  const className = buildClassName(message);\n  const {\n    text,\n    photo,\n    sticker,\n    className: contentClassName,\n  } = buildMessageContent(message);\n  const isText = contentClassName && contentClassName.includes('text');\n\n  function renderSenderName() {\n    if (\n      (!showSenderName && !message.forward_info)\n      || (!sender || !isText || photo)\n    ) {\n      return null;\n    }\n\n    return (\n      <div className=\"sender-name\">{getUserFullName(sender)}</div>\n    );\n  }\n\n  function renderMessageContent() {\n    return (\n      <div className={message.forward_info ? 'forwarded-message' : ''}>\n        {renderSenderName()}\n        {replyMessage && <ReplyMessage message={replyMessage} />}\n        {renderMessagePhoto(photo)}\n        {renderMessageSticker(sticker)}\n        {text && (\n          <p>{text}</p>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className={className}>\n      {showAvatar && sender && !message.forward_info && (\n        <Avatar size=\"small\" user={sender} />\n      )}\n      <div className={contentClassName}>\n        {message.forward_info && (\n          <div className=\"sender-name\">Forwarded message</div>\n        )}\n        {renderMessageContent()}\n        <MessageMeta message={message} />\n      </div>\n    </div>\n  );\n};\n\nfunction buildClassName(message: ApiMessage) {\n  const classNames = ['Message'];\n\n  if (isOwnMessage(message)) {\n    classNames.push('own');\n  }\n\n  return classNames.join(' ');\n}\n\nfunction renderMessagePhoto(photo?: ApiPhoto) {\n  if (!photo) {\n    return null;\n  }\n\n  const photoUrl = getPhotoUrl(photo);\n  if (photoUrl) {\n    return (\n      <div className=\"photo-content\">\n        <img src={photoUrl} alt=\"\" />\n      </div>\n    );\n  }\n\n  const thumbnail = photo.minithumbnail;\n  if (!thumbnail) {\n    return null;\n  }\n\n  return (\n    <div className=\"photo-content message-photo-thumbnail not-implemented\">\n      <img src={`data:image/jpeg;base64, ${thumbnail.data}`} alt=\"\" />\n      <div className=\"message-photo-loading\">\n        <Spinner color=\"white\" />\n      </div>\n    </div>\n  );\n}\n\nfunction renderMessageSticker(sticker?: ApiSticker) {\n  if (!sticker) {\n    return null;\n  }\n\n  // TODO @mockup\n  return (\n    <p>{sticker.emoji}</p>\n  );\n}\n\nexport default withGlobal(\n  (global, { message, showSenderName, showAvatar }: IProps) => {\n    // TODO: Works for only recent messages that are already loaded in the store\n    const replyMessage = message.reply_to_message_id\n      ? selectChatMessage(global, message.chat_id, message.reply_to_message_id)\n      : undefined;\n    if (!showSenderName && !showAvatar && !message.forward_info) {\n      return { replyMessage };\n    }\n\n    const userId = message.forward_info ? message.forward_info.origin.sender_user_id : message.sender_user_id;\n\n    return {\n      sender: selectUser(global, userId),\n      replyMessage,\n    };\n  },\n)(Message);\n","import { UIEvent } from 'react';\nimport React, { FC, useEffect } from '../../../../lib/teact';\nimport { getGlobal, withGlobal } from '../../../../lib/teactn';\n\nimport { GlobalActions } from '../../../../store/types';\nimport { ApiMessage } from '../../../../api/tdlib/types';\nimport { selectChatMessages, selectChatScrollOffset } from '../../../../modules/selectors';\nimport { isOwnMessage, isPrivateChat } from '../../../../modules/helpers';\nimport { orderBy, toArray } from '../../../../util/iteratees';\nimport { throttle } from '../../../../util/schedulers';\nimport { formatChatDateHeader } from '../../../../util/dateFormat';\nimport { MessageDateGroup, groupMessages } from './util/messages';\nimport Loading from '../../../../components/Loading';\nimport Message from './Message';\nimport './MessageList.scss';\n\ntype IProps = Pick<GlobalActions, 'loadChatMessages' | 'loadMoreChatMessages' | 'setChatScrollOffset'> & {\n  areMessagesLoaded: boolean;\n  chatId: number;\n  messages?: Record<number, ApiMessage>;\n};\n\nconst LOAD_MORE_THRESHOLD_PX = 1000;\nconst SCROLL_THROTTLE_MS = 1000;\nconst LOAD_MORE_WHEN_LESS_THAN = 50;\n\nlet loadMoreChatMessagesThrottled: Function | undefined;\n\nconst MessageList: FC<IProps> = ({\n  areMessagesLoaded, chatId, messages, loadChatMessages, loadMoreChatMessages, setChatScrollOffset,\n}) => {\n  if (!loadMoreChatMessagesThrottled) {\n    loadMoreChatMessagesThrottled = throttle(loadMoreChatMessages as (...args: any) => void, SCROLL_THROTTLE_MS, true);\n  }\n\n  const messagesArray = areMessagesLoaded && messages ? orderBy(toArray(messages), 'date') : undefined;\n\n  if (!areMessagesLoaded) {\n    loadChatMessages({ chatId });\n  } else if (messagesArray && messagesArray.length < LOAD_MORE_WHEN_LESS_THAN) {\n    loadMoreChatMessagesThrottled({ chatId });\n  }\n\n  const isPrivate = isPrivateChat(chatId);\n\n  useEffect(() => {\n    const scrollContainer = document.querySelector('.MessageList') as HTMLElement;\n\n    if (scrollContainer) {\n      const previousScrollOffset = selectChatScrollOffset(getGlobal(), chatId);\n      scrollContainer.scrollTop = scrollContainer.scrollHeight - Number(previousScrollOffset || 0);\n    }\n  });\n\n  function renderMessageDateGroup(messageDateGroup: MessageDateGroup) {\n    return (\n      <div className=\"message-date-group\">\n        <div className=\"message-date-header\">{formatChatDateHeader(messageDateGroup.datetime)}</div>\n        {messageDateGroup.messageGroups.map((messageGroup) => (\n          <div className=\"message-group\">\n            {messageGroup.map((message, i) => {\n              const isOwn = isOwnMessage(message);\n\n              return (\n                <Message\n                  key={message.id}\n                  message={message}\n                  showAvatar={!isPrivate && !isOwn}\n                  showSenderName={i === 0 && !isPrivate && !isOwn}\n                />\n              );\n            })}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  // TODO @perf Replace the whole element while rendering, it will be faster for long lists.\n  return (\n    <div\n      className={`MessageList custom-scroll ${isPrivate ? 'no-avatars' : ''}`}\n      onScroll={(e) => handleScroll(e, chatId, setChatScrollOffset)}\n    >\n      {\n        areMessagesLoaded ? (\n          <div className=\"messages-container\">\n            {messagesArray && groupMessages(messagesArray).map(renderMessageDateGroup)}\n          </div>\n        ) : (\n          <Loading />\n        )\n      }\n    </div>\n  );\n};\n\nfunction handleScroll(\n  e: UIEvent,\n  chatId: number,\n  setChatScrollOffset: GlobalActions['setChatScrollOffset'],\n) {\n  const target = e.target as HTMLElement;\n\n  setChatScrollOffset({ chatId, scrollOffset: target.scrollHeight - target.scrollTop });\n\n  if (loadMoreChatMessagesThrottled && target.scrollTop <= LOAD_MORE_THRESHOLD_PX) {\n    loadMoreChatMessagesThrottled({ chatId });\n  }\n}\n\nexport default withGlobal(\n  global => {\n    const { chats } = global;\n\n    const messages = chats.selectedId ? selectChatMessages(global, chats.selectedId) : undefined;\n\n    return {\n      chatId: chats.selectedId,\n      areMessagesLoaded: Boolean(messages),\n      messages,\n    };\n  },\n  (setGlobal, actions) => {\n    const { loadChatMessages, loadMoreChatMessages, setChatScrollOffset } = actions;\n    return { loadChatMessages, loadMoreChatMessages, setChatScrollOffset };\n  },\n)(MessageList);\n","import { ChangeEvent, KeyboardEvent } from 'react';\nimport React, { FC, useState } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport { GlobalActions } from '../../../../store/types';\nimport Button from '../../../../components/ui/Button';\nimport { onNextTick } from '../../../../util/schedulers';\nimport InputText from '../../../../components/ui/InputText';\nimport './MiddleFooter.scss';\n\ntype IProps = Pick<GlobalActions, 'sendTextMessage'> & {\n  selectedChatId: number;\n};\n\nconst MiddleFooter: FC<IProps> = ({ selectedChatId, sendTextMessage }) => {\n  const [messageText, setMessageText] = useState('');\n\n  function onChange(e: ChangeEvent<HTMLInputElement>) {\n    const { currentTarget } = e;\n    setMessageText(currentTarget.value.trim());\n  }\n\n  function onKeyPress(e: KeyboardEvent<HTMLInputElement>) {\n    const { currentTarget } = e;\n\n    if (e.keyCode === 13 && currentTarget.value.trim().length) {\n      sendTextMessage({\n        chatId: selectedChatId,\n        text: currentTarget.value,\n      });\n\n      // Make sure to clear the text after the latest `onChange`.\n      setTimeout(() => setMessageText(''), 0);\n    }\n  }\n\n  onNextTick(focusInput);\n\n  return (\n    <div className=\"MiddleFooter\">\n      <div id=\"message-input-wrapper\">\n        <Button className=\"not-implemented\" round color=\"translucent\">\n          <i className=\"icon-smile\" />\n        </Button>\n        {/* TODO Convert to textarea, add auto-sizing */}\n        <InputText\n          id=\"message-input-text\"\n          placeholder=\"Message\"\n          onChange={onChange}\n          onKeyPress={onKeyPress}\n          value={messageText}\n        />\n        <Button className=\"not-implemented\" round color=\"translucent\">\n          <i className=\"icon-attach\" />\n        </Button>\n      </div>\n      <Button className=\"not-implemented\" round color=\"primary\">\n        <i className=\"icon-microphone\" />\n      </Button>\n    </div>\n  );\n};\n\nfunction focusInput() {\n  const input = document.getElementById('message-input-text');\n\n  if (input) {\n    input.focus();\n  }\n}\n\nexport default withGlobal(\n  (global) => {\n    const { chats } = global;\n\n    return {\n      selectedChatId: chats.selectedId,\n    };\n  },\n  (setGlobal, actions) => {\n    const { sendTextMessage } = actions;\n    return { sendTextMessage };\n  },\n)(MiddleFooter);\n","import React, { FC } from '../../../../lib/teact';\nimport { withGlobal } from '../../../../lib/teactn';\n\nimport { isPrivateChat } from '../../../../modules/helpers';\nimport Button from '../../../../components/ui/Button';\nimport PrivateChatHeader from './PrivateChatHeader';\nimport GroupHeader from './GroupHeader';\nimport MessageList from './MessageList';\nimport MiddleFooter from './MiddleFooter';\nimport './MiddleColumn.scss';\nimport './MiddleHeader.scss';\n\ntype IProps = {\n  selectedChatId: number;\n  areChatsLoaded: boolean;\n};\n\nconst MiddleColumn: FC<IProps> = (props) => {\n  return (\n    <div id=\"MiddleColumn\">\n      {renderSelectedChat(props)}\n      {renderOpenChatScreen(props)}\n    </div>\n  );\n};\n\nfunction renderSelectedChat(props: IProps) {\n  const { selectedChatId } = props;\n\n  if (!selectedChatId) {\n    return null;\n  }\n\n  return (\n    <div className=\"messages-layout\">\n      {isPrivateChat(selectedChatId) ? (\n        <PrivateChatHeader chatId={selectedChatId} />\n      ) : (\n        <GroupHeader chatId={selectedChatId} />\n      )}\n      <MessageList key={selectedChatId} />\n      <MiddleFooter />\n    </div>\n  );\n}\n\nfunction renderOpenChatScreen(props: IProps) {\n  const { selectedChatId, areChatsLoaded } = props;\n\n  if (selectedChatId || !areChatsLoaded) {\n    return null;\n  }\n\n  return (\n    <div className=\"select-chat-note\">\n      <i className=\"icon-chats-placeholder\" />\n      <h2>\n        Open Chat\n        <br />\n        or create a new one\n      </h2>\n\n      <div className=\"create-chat-buttons\">\n        <Button className=\"not-implemented\" round color=\"secondary\">\n          <i className=\"icon-new-private\" />\n          <span>Private</span>\n        </Button>\n        <Button className=\"not-implemented\" round color=\"secondary\">\n          <i className=\"icon-new-group\" />\n          <span>Group</span>\n        </Button>\n        <Button className=\"not-implemented\" round color=\"secondary\">\n          <i className=\"icon-new-channel\" />\n          <span>Channel</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default withGlobal(\n  (global) => {\n    const { chats } = global;\n\n    const idsLength = chats.ids.length;\n    const areChatsLoaded = idsLength > 0 && Object.keys(chats.byId).length >= idsLength;\n\n    return {\n      selectedChatId: global.chats.selectedId,\n      areChatsLoaded,\n    };\n  },\n)(MiddleColumn);\n","import React, { FC } from '../../lib/teact';\nimport { withGlobal } from '../../lib/teactn';\n\nimport { GlobalState } from '../../store/types';\nimport LeftColumn from './components/left/LeftColumn';\nimport MiddleColumn from './components/middle/MiddleColumn';\n// import RightColumn from './components/right/RightColumn';\n\nimport './Main.scss';\n\ntype IProps = GlobalState;\n\nconst Main: FC<IProps> = () => {\n  return (\n    <div id=\"Main\">\n      <LeftColumn />\n      <MiddleColumn />\n      {/* <RightColumn /> */}\n    </div>\n  );\n};\n\nexport default withGlobal(\n\n)(Main);\n","import { FC } from './lib/teact';\nimport React, { withGlobal } from './lib/teactn';\n\nimport { GlobalState } from './store/types';\nimport Auth from './pages/auth/Auth';\nimport Main from './pages/main/Main';\nimport Loading from './components/Loading';\n// import Test from './pages/test/Test';\n\ntype IProps = Pick<GlobalState, 'authState' | 'authIsSessionRemembered'>;\n\nconst App: FC<IProps> = ({ authState, authIsSessionRemembered }) => {\n  // return <Test />;\n\n  if (authState) {\n    switch (authState) {\n      case 'authorizationStateWaitCode':\n      case 'authorizationStateWaitPassword':\n      case 'authorizationStateWaitRegistration':\n      case 'authorizationStateWaitPhoneNumber':\n        return <Auth />;\n      case 'authorizationStateClosed':\n      case 'authorizationStateClosing':\n      case 'authorizationStateLoggingOut':\n      case 'authorizationStateReady':\n        return <Main />;\n    }\n  }\n\n  return authIsSessionRemembered ? <Main /> : <Loading />;\n};\n\nexport default withGlobal(\n  global => {\n    const { authState, authIsSessionRemembered } = global;\n    return { authState, authIsSessionRemembered };\n  },\n)(App);\n","import React, { getDispatch, getGlobal } from './lib/teactn';\nimport TeactDOM from './lib/teact-dom';\n\nimport './store';\nimport './modules';\nimport App from './App';\nimport './styles/index.scss';\n\ngetDispatch().init();\n\nTeactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n\ndocument.addEventListener('dblclick', () => {\n  // eslint-disable-next-line no-console\n  console.log('GLOBAL STATE', getGlobal());\n});\n"]}